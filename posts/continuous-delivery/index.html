<!DOCTYPE html><html lang="en" class="bg-[var(--page-bg)] transition text-[14px] md:text-[16px]" data-overlayscrollbars-initialize data-astro-cid-sckkx6r4 style="--bannerOffset: 15vh;--banner-height-home: 65vh;--banner-height: 35vh;--configHue: 250;--page-width: 75rem;"> <head><title>Continuous Delivery - Jiaqi&#39;s Leadership Blog</title><meta charset="UTF-8"><meta name="description" content="Continuous delivery is an approach where teams release quality products frequently and predictably from source code
repository to production in an automated fashion.
"><meta name="author" content="Jiaqi Liu"><meta property="og:site_name" content="Jiaqi's Leadership Blog"><meta property="og:url" content="https://leadership.qubitpi.org/posts/continuous-delivery/"><meta property="og:title" content="Continuous Delivery - Jiaqi's Leadership Blog"><meta property="og:description" content="Continuous delivery is an approach where teams release quality products frequently and predictably from source code
repository to production in an automated fashion.
"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://leadership.qubitpi.org/posts/continuous-delivery/"><meta name="twitter:title" content="Continuous Delivery - Jiaqi's Leadership Blog"><meta name="twitter:description" content="Continuous delivery is an approach where teams release quality products frequently and predictably from source code
repository to production in an automated fashion.
"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.12.3"><link rel="icon" href="/favicon/favicon-light-32.png" sizes="32x32" media="(prefers-color-scheme: light)"><link rel="icon" href="/favicon/favicon-light-128.png" sizes="128x128" media="(prefers-color-scheme: light)"><link rel="icon" href="/favicon/favicon-light-180.png" sizes="180x180" media="(prefers-color-scheme: light)"><link rel="icon" href="/favicon/favicon-light-192.png" sizes="192x192" media="(prefers-color-scheme: light)"><link rel="icon" href="/favicon/favicon-dark-32.png" sizes="32x32" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon/favicon-dark-128.png" sizes="128x128" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon/favicon-dark-180.png" sizes="180x180" media="(prefers-color-scheme: dark)"><link rel="icon" href="/favicon/favicon-dark-192.png" sizes="192x192" media="(prefers-color-scheme: dark)"><!-- Set the theme before the page is rendered to avoid a flash --><script>(function(){const DEFAULT_THEME = "auto";
const LIGHT_MODE = "light";
const DARK_MODE = "dark";
const AUTO_MODE = "auto";
const BANNER_HEIGHT_EXTEND = 30;
const PAGE_WIDTH = 75;
const configHue = 250;

			// Load the theme from local storage
			const theme = localStorage.getItem('theme') || DEFAULT_THEME;
			switch (theme) {
				case LIGHT_MODE:
					document.documentElement.classList.remove('dark');
					break
				case DARK_MODE:
					document.documentElement.classList.add('dark');
					break
				case AUTO_MODE:
					if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
						document.documentElement.classList.add('dark');
					} else {
						document.documentElement.classList.remove('dark');
					}
			}

			// Load the hue from local storage
			const hue = localStorage.getItem('hue') || configHue;
			document.documentElement.style.setProperty('--hue', hue);

			// calculate the --banner-height-extend, which needs to be a multiple of 4 to avoid blurry text
			let offset = Math.floor(window.innerHeight * (BANNER_HEIGHT_EXTEND / 100));
			offset = offset - offset % 4;
			document.documentElement.style.setProperty('--banner-height-extend', `${offset}px`);
		})();</script><!-- defines global css variables. This will be applied to <html> <body> and some other elements idk why --><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Continuous Delivery","description":"Continuous delivery is an approach where teams release quality products frequently and predictably from source code\nrepository to production in an automated fashion.\n","keywords":["Technology"],"author":{"@type":"Person","name":"Jiaqi Liu","url":"https://leadership.qubitpi.org/"},"datePublished":"2022-08-31","inLanguage":"en"}</script><link rel="alternate" type="application/rss+xml" title="Jiaqi Liu" href="https://leadership.qubitpi.org/rss.xml"><link rel="stylesheet" href="/_astro/Layout.CFwGdNXj.css">
<link rel="stylesheet" href="/_astro/Layout.DSulWsr7.css">
<style>.greek-text{font-family:Porson}.chinese-text{font-family:PangZhonghuaXingKai}.english-text{font-family:Poppins}.german-text{font-family:WalbaumFraktur}@font-face{font-family:WalbaumFraktur;src:url(/fonts/WalbaumFraktur.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:DXRedMailboxBold;src:url(/fonts/DXRedMailboxBold.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:PangZhonghuaXingKai;src:url(/fonts/PangZhonghuaXingKai.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:SweynheimPannartz;src:url(/fonts/SweynheimPannartz.ttf) format("truetype");font-weight:400;font-style:normal;font-display:swap}
</style>
<link rel="stylesheet" href="/_astro/_page_.wc_47aVi.css">
<link rel="stylesheet" href="/_astro/_page_.CO27kg37.css">
<link rel="stylesheet" href="/_astro/about.BtniRLn_.css">
<style>input.svelte-1adkdfv:focus{outline:0}.search-panel.svelte-1adkdfv{max-height:calc(100vh - 100px);overflow-y:auto}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex){-webkit-appearance:none;height:1.5rem;background-image:var(--color-selection-bar);transition:background-image .15s ease-in-out}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-webkit-slider-thumb{-webkit-appearance:none;height:1rem;width:.5rem;border-radius:.125rem;background:#ffffffb3;box-shadow:none}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-webkit-slider-thumb:hover{background:#fffc}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-webkit-slider-thumb:active{background:#fff9}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-moz-range-thumb{-webkit-appearance:none;height:1rem;width:.5rem;border-radius:.125rem;border-width:0;background:#ffffffb3;box-shadow:none}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-moz-range-thumb:hover{background:#fffc}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-moz-range-thumb:active{background:#fff9}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-ms-thumb{-webkit-appearance:none;height:1rem;width:.5rem;border-radius:.125rem;background:#ffffffb3;box-shadow:none}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-ms-thumb:hover{background:#fffc}#display-setting.svelte-1s19bex input[type=range]:where(.svelte-1s19bex)::-ms-thumb:active{background:#fff9}
</style><script type="module" src="/_astro/page.BVE_is1K.js"></script></head> <body class=" min-h-screen transition  enable-banner" data-overlayscrollbars-initialize data-astro-cid-sckkx6r4 style="--bannerOffset: 15vh;--banner-height-home: 65vh;--banner-height: 35vh;--configHue: 250;--page-width: 75rem;"> <div id="config-carrier" data-hue="250"></div>    <div id="top-row" class="z-50 pointer-events-none relative transition-all duration-700 max-w-[var(--page-width)] px-0 md:px-4 mx-auto"> <div id="navbar-wrapper" class="pointer-events-auto sticky top-0 transition-all"> <div id="navbar" class="z-50 onload-animation"> <div class="absolute h-8 left-0 right-0 -top-8 bg-[var(--card-bg)] transition"></div> <!-- used for onload animation --> <div class="card-base !overflow-visible max-w-[var(--page-width)] h-[4.5rem] !rounded-t-none mx-auto flex items-center justify-between px-4"> <a href="/" class="btn-plain scale-animation rounded-lg h-[3.25rem] px-5 font-bold active:scale-95"> <div class="flex flex-row text-[var(--primary)] items-center text-md"> <svg width="1em" height="1em" class="text-[1.75rem] mb-1 mr-2" data-icon="material-symbols:home-outline-rounded">   <symbol id="ai:material-symbols:home-outline-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M6 19h3v-5q0-.425.288-.712T10 13h4q.425 0 .713.288T15 14v5h3v-9l-6-4.5L6 10zm-2 0v-9q0-.475.213-.9t.587-.7l6-4.5q.525-.4 1.2-.4t1.2.4l6 4.5q.375.275.588.7T20 10v9q0 .825-.588 1.413T18 21h-4q-.425 0-.712-.288T13 20v-5h-2v5q0 .425-.288.713T10 21H6q-.825 0-1.412-.587T4 19m8-6.75"/></symbol><use href="#ai:material-symbols:home-outline-rounded"></use>  </svg> Jiaqi&#39;s Leadership Blog </div> </a> <div class="hidden md:flex"> <a aria-label="Home" href="/" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> Home  </div> </a><a aria-label="Archive" href="/archive/" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> Archive  </div> </a><a aria-label="About" href="/about/" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> About  </div> </a><a aria-label="GitHub" href="https://github.com/Qubitpi" target="_blank" class="btn-plain scale-animation rounded-lg h-11 font-bold px-5 active:scale-95"> <div class="flex items-center"> GitHub <svg width="1em" height="1em" viewBox="0 0 512 512" class="text-[0.875rem] transition -translate-y-[1px] ml-1 text-black/[0.2] dark:text-white/[0.2]" data-icon="fa6-solid:arrow-up-right-from-square">   <use href="#ai:fa6-solid:arrow-up-right-from-square"></use>  </svg> </div> </a> </div> <div class="flex"> <!--<SearchPanel client:load>--> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z1YnQjW" component-url="/_astro/Search.BQTsutxO.js" component-export="default" renderer-url="/_astro/client.svelte.JU-N2tvQ.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;Search&quot;,&quot;value&quot;:&quot;svelte&quot;}"></astro-island> <button aria-label="Display Settings" class="btn-plain scale-animation rounded-lg h-11 w-11 active:scale-90" id="display-settings-switch"> <svg width="1em" height="1em" class="text-[1.25rem]" data-icon="material-symbols:palette-outline">   <symbol id="ai:material-symbols:palette-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M12 22q-2.05 0-3.875-.788t-3.187-2.15t-2.15-3.187T2 12q0-2.075.813-3.9t2.2-3.175T8.25 2.788T12.2 2q2 0 3.775.688t3.113 1.9t2.125 2.875T22 11.05q0 2.875-1.75 4.413T16 17h-1.85q-.225 0-.312.125t-.088.275q0 .3.375.863t.375 1.287q0 1.25-.687 1.85T12 22m-5.5-9q.65 0 1.075-.425T8 11.5t-.425-1.075T6.5 10t-1.075.425T5 11.5t.425 1.075T6.5 13m3-4q.65 0 1.075-.425T11 7.5t-.425-1.075T9.5 6t-1.075.425T8 7.5t.425 1.075T9.5 9m5 0q.65 0 1.075-.425T16 7.5t-.425-1.075T14.5 6t-1.075.425T13 7.5t.425 1.075T14.5 9m3 4q.65 0 1.075-.425T19 11.5t-.425-1.075T17.5 10t-1.075.425T16 11.5t.425 1.075T17.5 13M12 20q.225 0 .363-.125t.137-.325q0-.35-.375-.825T11.75 17.3q0-1.05.725-1.675T14.25 15H16q1.65 0 2.825-.962T20 11.05q0-3.025-2.312-5.038T12.2 4Q8.8 4 6.4 6.325T4 12q0 3.325 2.338 5.663T12 20"/></symbol><use href="#ai:material-symbols:palette-outline"></use>  </svg> </button> <astro-island uid="Z19Q6z2" component-url="/_astro/LightDarkSwitch.F7MVM3XM.js" component-export="default" renderer-url="/_astro/client.svelte.JU-N2tvQ.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;LightDarkSwitch&quot;,&quot;value&quot;:&quot;svelte&quot;}"></astro-island> <button aria-label="Menu" name="Nav Menu" class="btn-plain scale-animation rounded-lg w-11 h-11 active:scale-90 md:!hidden" id="nav-menu-switch"> <svg width="1em" height="1em" class="text-[1.25rem]" data-icon="material-symbols:menu-rounded">   <symbol id="ai:material-symbols:menu-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M4 18q-.425 0-.712-.288T3 17t.288-.712T4 16h16q.425 0 .713.288T21 17t-.288.713T20 18zm0-5q-.425 0-.712-.288T3 12t.288-.712T4 11h16q.425 0 .713.288T21 12t-.288.713T20 13zm0-5q-.425 0-.712-.288T3 7t.288-.712T4 6h16q.425 0 .713.288T21 7t-.288.713T20 8z"/></symbol><use href="#ai:material-symbols:menu-rounded"></use>  </svg> </button> </div> <div id="nav-menu-panel" class="float-panel float-panel-closed absolute transition-all fixed right-4 px-2 py-2"> <a href="/" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> Home </div> <svg width="1em" height="1em" class="transition text-[1.25rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <symbol id="ai:material-symbols:chevron-right-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M12.6 12L8.7 8.1q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.6 4.6q.15.15.213.325t.062.375t-.062.375t-.213.325l-4.6 4.6q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7z"/></symbol><use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg>  </a><a href="/archive/" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> Archive </div> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition text-[1.25rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg>  </a><a href="/about/" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        "> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> About </div> <svg width="1em" height="1em" viewBox="0 0 24 24" class="transition text-[1.25rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg>  </a><a href="https://github.com/Qubitpi" class="group flex justify-between items-center py-2 pl-3 pr-1 rounded-lg gap-8
            hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)] transition
        " target="_blank"> <div class="transition text-black/75 dark:text-white/75 font-bold group-hover:text-[var(--primary)] group-active:text-[var(--primary)]"> GitHub </div>  <svg width="1em" height="1em" viewBox="0 0 512 512" class="transition text-[0.75rem] text-black/25 dark:text-white/25 -translate-x-1" data-icon="fa6-solid:arrow-up-right-from-square">   <use href="#ai:fa6-solid:arrow-up-right-from-square"></use>  </svg> </a> </div> <astro-island uid="Z230s5B" component-url="/_astro/DisplaySettings.U1ZgglNw.js" component-export="default" renderer-url="/_astro/client.svelte.JU-N2tvQ.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;DisplaySettings&quot;,&quot;value&quot;:&quot;svelte&quot;}"></astro-island> </div> </div> <script type="module">function c(){localStorage.theme==="dark"?(document.documentElement.classList.remove("dark"),localStorage.theme="light"):(document.documentElement.classList.add("dark"),localStorage.theme="dark")}function o(){let t=document.getElementById("scheme-switch");t&&(t.onclick=function(){c()});let n=document.getElementById("display-settings-switch");n&&(n.onclick=function(){let e=document.getElementById("display-setting");e&&e.classList.toggle("float-panel-closed")});let l=document.getElementById("nav-menu-switch");l&&(l.onclick=function(){let e=document.getElementById("nav-menu-panel");e&&e.classList.toggle("float-panel-closed")})}o();</script> <script>(function(){const scriptUrl = "/pagefind/pagefind.js";

async function loadPagefind() {
    try {
        const response = await fetch(scriptUrl, { method: 'HEAD' });
        if (!response.ok) {
            throw new Error(`Pagefind script not found: ${response.status}`);
        }

        const pagefind = await import(scriptUrl);

        await pagefind.options({
            excerptLength: 20
        });

        window.pagefind = pagefind;

        document.dispatchEvent(new CustomEvent('pagefindready'));
        console.log('Pagefind loaded and initialized successfully, event dispatched.');
    } catch (error) {
        console.error('Failed to load Pagefind:', error);
        window.pagefind = {
            search: () => Promise.resolve({ results: [] }),
            options: () => Promise.resolve(),
        };
        document.dispatchEvent(new CustomEvent('pagefindloaderror'));
        console.log('Pagefind load error, event dispatched.');
    }
}

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', loadPagefind);
} else {
    loadPagefind();
}
})();</script> </div> </div>  <div id="banner-wrapper" class="absolute z-10 w-full transition duration-700 overflow-hidden" style="top: -30vh"> <div id="banner" class="object-cover h-full transition duration-700 opacity-0 scale-105 overflow-hidden relative"> <div class="transition absolute inset-0 dark:bg-black/10 bg-opacity-50 pointer-events-none"></div> <img src="/_astro/banner-4.BofJ41HA_1VGb7G.webp" alt="Banner image of the blog" style="object-position: center" loading="lazy" decoding="async" fetchpriority="auto" width="2040" height="852" class="w-full h-full object-cover">  </div> </div> <div class="absolute w-full z-30 pointer-events-none" style="top: calc(35vh - 3.5rem)"> <!-- The pointer-events-none here prevent blocking the click event of the TOC --> <div class="relative max-w-[var(--page-width)] mx-auto pointer-events-auto"> <div id="main-grid" class="transition duration-700 w-full left-0 right-0 grid grid-cols-[17.5rem_auto] grid-rows-[auto_1fr_auto] lg:grid-rows-[auto]
    mx-auto gap-4 px-0 md:px-4"> <!-- Banner image credit --> <a href="https://youtu.be/XWJ561xqNNI?t=163" id="banner-credit" target="_blank" rel="noopener" aria-label="Visit image source" class="group onload-animation transition-all absolute flex justify-center items-center rounded-full px-3 right-4 -top-[3.25rem] bg-black/60 hover:bg-black/70 h-9 hover:pr-9 active:bg-black/80"> <svg width="1em" height="1em" class="text-white/75 text-[1.25rem] mr-1" data-icon="material-symbols:copyright-outline-rounded">   <symbol id="ai:material-symbols:copyright-outline-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m-2-4h4q.425 0 .713-.288T15 15v-1q0-.425-.288-.712T14 13t-.712.288T13 14h-2v-4h2q0 .425.288.713T14 11t.713-.288T15 10V9q0-.425-.288-.712T14 8h-4q-.425 0-.712.288T9 9v6q0 .425.288.713T10 16"/></symbol><use href="#ai:material-symbols:copyright-outline-rounded"></use>  </svg> <div class="text-white/75 text-xs">Ardeth Bay (The Mummy Returns)</div> <svg width="1em" height="1em" class="transition absolute text-[oklch(0.75_0.14_var(--hue))] right-4 text-[0.75rem] opacity-0 group-hover:opacity-100" data-icon="fa6-solid:arrow-up-right-from-square">   <symbol id="ai:fa6-solid:arrow-up-right-from-square" viewBox="0 0 512 512"><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 32C35.8 32 0 67.8 0 112v320c0 44.2 35.8 80 80 80h320c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v112c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16h112c17.7 0 32-14.3 32-32s-14.3-32-32-32z"/></symbol><use href="#ai:fa6-solid:arrow-up-right-from-square"></use>  </svg> </a> <div id="sidebar" class="mb-4 row-start-2 row-end-3 col-span-2 lg:row-start-1 lg:row-end-2 lg:col-span-1 lg:max-w-[17.5rem] onload-animation w-full"> <div class="flex flex-col w-full gap-4 mb-4"> <div class="card-base p-3"> <a aria-label="Go to About Page" href="/about/" class="group block relative mx-auto mt-1 lg:mx-0 lg:mt-0 mb-3
       max-w-[12rem] lg:max-w-none overflow-hidden rounded-xl active:scale-95"> <div class="absolute transition pointer-events-none group-hover:bg-black/30 group-active:bg-black/50
        w-full h-full z-50 flex items-center justify-center"> <svg width="1.13em" height="1em" class="transition opacity-0 scale-90 group-hover:scale-100 group-hover:opacity-100 text-white text-5xl" data-icon="fa6-regular:address-card">   <symbol id="ai:fa6-regular:address-card" viewBox="0 0 576 512"><path fill="currentColor" d="M512 80c8.8 0 16 7.2 16 16v320c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16zM64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64zm144 224a64 64 0 1 0 0-128a64 64 0 1 0 0 128m-32 32c-44.2 0-80 35.8-80 80c0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16c0-44.2-35.8-80-80-80zm200-144c-13.3 0-24 10.7-24 24s10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24h80c13.3 0 24-10.7 24-24s-10.7-24-24-24z"/></symbol><use href="#ai:fa6-regular:address-card"></use>  </svg> </div> <div class="mx-auto lg:w-full h-full lg:mt-0  overflow-hidden relative"> <div class="transition absolute inset-0 dark:bg-black/10 bg-opacity-50 pointer-events-none"></div> <img src="/_astro/avatar.DHceQYjt_r57IC.webp" alt="Profile Image of the Author" style="object-position: center" loading="lazy" decoding="async" fetchpriority="auto" width="2160" height="2160" class="w-full h-full object-cover">  </div> </a> <div class="px-2"> <div class="font-bold text-xl text-center mb-1 dark:text-neutral-50 transition">Jiaqi Liu</div> <div class="h-1 w-5 bg-[var(--primary)] mx-auto rounded-full mb-2 transition"></div> <div class="text-center text-neutral-400 mb-2.5 transition">Leadership is an infinite game.</div> <div class="flex gap-2 justify-center mb-1"> <a rel="me" aria-label="Paion Data" href="https://paion-data.com" target="_blank" class="btn-regular rounded-lg h-10 w-10 active:scale-90"> <svg width="1em" height="1em" class="text-[1.5rem]" data-icon="material-symbols:graph-5">   <symbol id="ai:material-symbols:graph-5" viewBox="0 0 24 24"><path fill="currentColor" d="M12 22.5q-1.25 0-2.125-.875T9 19.5q0-.975.563-1.75T11 16.675V14.85q-.275-.1-.525-.237t-.45-.338L8.45 15.2q.025.125.038.263t.012.287q0 1.25-.875 2.125T5.5 18.75t-2.125-.875T2.5 15.75t.875-2.125T5.5 12.75q.575 0 1.075.188t.9.537l1.55-.9Q9 12.45 8.987 12.3t-.012-.3t.013-.288t.037-.262l-1.55-.925q-.4.35-.9.538T5.5 11.25q-1.25 0-2.125-.875T2.5 8.25t.875-2.125T5.5 5.25t2.125.875T8.5 8.25q0 .15-.012.3t-.038.275l1.575.9q.2-.2.45-.325T11 9.175V7.35q-.875-.3-1.437-1.087T9 4.5q0-1.25.875-2.125T12 1.5t2.125.875T15 4.5q0 .975-.562 1.763T13 7.35v1.825q.275.1.513.238t.437.337l1.6-.95q-.025-.125-.038-.262T15.5 8.25q0-1.25.875-2.125T18.5 5.25t2.125.875t.875 2.125t-.875 2.125t-2.125.875q-.575 0-1.062-.187t-.888-.538l-1.625.95q.025.125.038.263t.012.262t-.012.275t-.038.275l1.625.925q.4-.35.888-.537t1.062-.188q1.25 0 2.125.875t.875 2.125t-.875 2.125t-2.125.875t-2.125-.875t-.875-2.125q0-.15.013-.288t.037-.262l-1.6-.925q-.2.2-.437.325t-.513.225v1.85q.875.3 1.438 1.075T15 19.5q0 1.25-.875 2.125T12 22.5m0-2q.425 0 .713-.288T13 19.5t-.288-.712T12 18.5t-.712.288T11 19.5t.288.713t.712.287m-6.5-3.75q.425 0 .713-.288t.287-.712t-.288-.712t-.712-.288t-.712.288t-.288.712t.288.713t.712.287m13 0q.425 0 .713-.288t.287-.712t-.288-.712t-.712-.288t-.712.288t-.288.712t.288.713t.712.287M12 13q.425 0 .713-.288T13 12t-.288-.712T12 11t-.712.288T11 12t.288.713T12 13M5.5 9.25q.425 0 .713-.288T6.5 8.25t-.288-.712T5.5 7.25t-.712.288t-.288.712t.288.713t.712.287m13 0q.425 0 .713-.288t.287-.712t-.288-.712t-.712-.288t-.712.288t-.288.712t.288.713t.712.287M12 5.5q.425 0 .713-.288T13 4.5t-.288-.712T12 3.5t-.712.288T11 4.5t.288.713T12 5.5"/></symbol><use href="#ai:material-symbols:graph-5"></use>  </svg> </a><a rel="me" aria-label="GitHub" href="https://github.com/Qubitpi" target="_blank" class="btn-regular rounded-lg h-10 w-10 active:scale-90"> <svg width="0.94em" height="1em" class="text-[1.5rem]" data-icon="fa6-brands:github-alt">   <symbol id="ai:fa6-brands:github-alt" viewBox="0 0 480 512"><path fill="currentColor" d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1s10.9-55.1 36.7-55.1s36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95c-37.9 76.6-142.1 74.8-216.7 74.8c-75.8 0-186.2 2.7-225.6-74.8c-14.6-29-20.2-63.1-20.2-95c0-41.9 13.9-81.5 41.5-113.6c-5.2-15.8-7.7-32.4-7.7-48.8c0-21.5 4.9-32.3 14.6-51.8c45.3 0 74.3 9 108.8 36c29-6.9 58.8-10 88.7-10c27 0 54.2 2.9 80.4 9.2c34-26.7 63-35.2 107.8-35.2c9.8 19.5 14.6 30.3 14.6 51.8c0 16.4-2.6 32.7-7.7 48.2c27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6c-18.9 0-37 3.4-56 6c-14.9 2.3-29.8 3.2-45.1 3.2c-15.2 0-30.1-.9-45.1-3.2c-18.7-2.6-37-6-56-6c-46.8 0-73.5 38.7-73.5 82.6c0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1s36.7-34.2 36.7-55.1s-10.9-55.1-36.7-55.1"/></symbol><use href="#ai:fa6-brands:github-alt"></use>  </svg> </a><a rel="me" aria-label="原神" href="https://enka.network/u/MyFavoriteCharacters" target="_blank" class="btn-regular rounded-lg h-10 w-10 active:scale-90"> <svg width="1em" height="1em" class="text-[1.5rem]" data-icon="simple-icons:mihoyo">   <symbol id="ai:simple-icons:mihoyo" viewBox="0 0 24 24"><path fill="currentColor" d="M6.939 8.8a.65.65 0 0 0-.653.653a.65.65 0 0 0 .653.653a.65.65 0 0 0 .653-.653a.65.65 0 0 0-.653-.653m-5.506 1.886A1.43 1.43 0 0 0 0 12.118v2.474a.59.59 0 0 0 .592.592a.59.59 0 0 0 .592-.592v-2.25a.464.464 0 0 1 .465-.464a.464.464 0 0 1 .465.465v2.249a.59.59 0 1 0 1.184 0v-2.25a.464.464 0 0 1 .465-.464a.464.464 0 0 1 .465.465v1.208c.001.914.736 1.649 1.65 1.649s1.649-.735 1.649-1.649V11.49a.59.59 0 0 0-.592-.592a.59.59 0 0 0-.592.592v2.037a.464.464 0 0 1-.465.465a.464.464 0 0 1-.466-.465v-1.409a1.43 1.43 0 0 0-1.433-1.432c-.448 0-.853.202-1.115.525c-.033.04-.08.079-.158.079s-.125-.038-.158-.079a1.43 1.43 0 0 0-1.115-.525M9.057 9.16a.59.59 0 0 0-.592.591v4.84a.59.59 0 0 0 .592.593a.59.59 0 0 0 .592-.592v-1.588a.27.27 0 0 1 .27-.27h.636a.27.27 0 0 1 .27.27v1.588a.59.59 0 0 0 .591.592a.59.59 0 0 0 .592-.592V9.75a.59.59 0 0 0-.592-.592a.59.59 0 0 0-.592.592v1.465a.27.27 0 0 1-.269.27h-.637a.27.27 0 0 1-.269-.27V9.751a.59.59 0 0 0-.592-.592m7.784 0a.286.286 0 0 0-.203.47l1.166 2.11v2.853a.59.59 0 0 0 .592.592a.59.59 0 0 0 .592-.592v-2.853l1.166-2.11c.168-.233-.015-.47-.203-.47h-.606a.27.27 0 0 0-.218.126l-.65 1.188c-.017.03-.046.041-.077.041s-.063-.01-.08-.04l-.655-1.19a.27.27 0 0 0-.218-.125zm-3.776 1.2c-.032 0-.053.155-.053.368s.041.416.082.416c.04 0 .04-.025.237-.196s.228-.171.228-.22s-.073-.09-.245-.213c-.171-.122-.216-.155-.249-.155m3.437 0c-.032 0-.077.033-.249.155s-.245.164-.245.213s.033.048.229.22s.196.196.237.196s.081-.204.081-.416s-.02-.368-.053-.368m-1.718.343c-1.082 0-1.96 1.006-1.96 2.245s.878 2.245 1.96 2.245s1.959-1.005 1.959-2.245s-.877-2.245-1.96-2.245m0 1.118c.541 0 .98.506.98 1.127c0 .622-.438 1.126-.98 1.126s-.979-.504-.979-1.126c0-.62.44-1.127.98-1.127m8.685-1.33c-.334 0-.498.147-.596.22s-.18.147-.269.147c-.229 0-.392-.155-.849-.155c-1.082 0-1.96 1.005-1.96 2.245s.878 2.245 1.96 2.245s1.96-1.005 1.96-2.245c0-.452-.12-.894-.343-1.267c-.037-.096-.05-.194-.05-.386c0-.265.128-.46.27-.56a.8.8 0 0 1 .408-.138a1.2 1.2 0 0 0-.53-.106m-1.715 1.33c.54 0 .98.505.98 1.127s-.439 1.126-.98 1.126s-.98-.504-.98-1.126c0-.62.44-1.126.98-1.127"/></symbol><use href="#ai:simple-icons:mihoyo"></use>  </svg> </a><a rel="me" aria-label="YouTube" href="https://www.youtube.com/@wilhelm-tiger" target="_blank" class="btn-regular rounded-lg h-10 w-10 active:scale-90"> <svg width="1.13em" height="1em" class="text-[1.5rem]" data-icon="fa6-brands:youtube">   <symbol id="ai:fa6-brands:youtube" viewBox="0 0 576 512"><path fill="currentColor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597c-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821c11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></symbol><use href="#ai:fa6-brands:youtube"></use>  </svg> </a>  </div> </div> </div> </div> <div id="sidebar-sticky" class="transition-all duration-700 flex flex-col w-full gap-4 top-4 sticky top-4"> <widget-layout data-id="categories" data-is-collapsed="true" class="pb-4 card-base onload-animation" style="animation-delay: 150ms; --collapsedHeight: 7.5rem;" data-astro-cid-ucso7hve="true"> <div class="font-bold transition text-lg text-neutral-900 dark:text-neutral-100 relative ml-8 mt-4 mb-2
        before:w-1 before:h-4 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:left-[-16px] before:top-[5.5px]" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;">Languages</div> <div id="categories" class="collapse-wrapper px-4 overflow-hidden collapsed" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <a href="/archive/?category=Ancient%20Greek" aria-label="View all posts in the Ancient Greek category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> Ancient Greek </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 4 </div> </div> </button> </a><a href="/archive/?category=Chinese" aria-label="View all posts in the Chinese category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> Chinese </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 1 </div> </div> </button> </a><a href="/archive/?category=English" aria-label="View all posts in the English category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> English </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 26 </div> </div> </button> </a><a href="/archive/?category=German" aria-label="View all posts in the German category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> German </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 2 </div> </div> </button> </a><a href="/archive/?category=Korean" aria-label="View all posts in the Korean category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> Korean </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 1 </div> </div> </button> </a><a href="/archive/?category=Latin" aria-label="View all posts in the Latin category"> <button class="
            w-full
            h-10
            rounded-lg
            bg-none
            hover:bg-[var(--btn-plain-bg-hover)]
            active:bg-[var(--btn-plain-bg-active)]
            transition-all
            pl-2
            hover:pl-3
            
            text-neutral-700
            hover:text-[var(--primary)]
            dark:text-neutral-300
            dark:hover:text-[var(--primary)]
        "> <div class="flex items-center justify-between relative mr-2"> <div class="overflow-hidden text-left whitespace-nowrap overflow-ellipsis  "> Latin </div> <div class="transition px-2 h-7 ml-4 min-w-[2rem] rounded-lg text-sm font-bold
                    text-[var(--btn-content)] dark:text-[var(--deep-text)]
                    bg-[oklch(0.95_0.025_var(--hue))] dark:bg-[var(--primary)]
                    flex items-center justify-center"> 1 </div> </div> </button> </a> </div> <div class="expand-btn px-4 -mb-2" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <button class="btn-plain rounded-lg w-full h-9" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <div class="text-[var(--primary)] flex items-center justify-center gap-2 -translate-x-2" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;"> <svg width="1em" height="1em" class="text-[1.75rem]" data-astro-cid-ucso7hve="true" data-icon="material-symbols:more-horiz">   <symbol id="ai:material-symbols:more-horiz" viewBox="0 0 24 24"><path fill="currentColor" d="M6 14q-.825 0-1.412-.587T4 12t.588-1.412T6 10t1.413.588T8 12t-.587 1.413T6 14m6 0q-.825 0-1.412-.587T10 12t.588-1.412T12 10t1.413.588T14 12t-.587 1.413T12 14m6 0q-.825 0-1.412-.587T16 12t.588-1.412T18 10t1.413.588T20 12t-.587 1.413T18 14"/></symbol><use href="#ai:material-symbols:more-horiz"></use>  </svg> More </div> </button> </div> </widget-layout>  <script type="module">class d extends HTMLElement{constructor(){if(super(),this.dataset.isCollapsed!=="true")return;const e=this.dataset.id,t=this.querySelector(".expand-btn"),s=this.querySelector(`#${e}`);t.addEventListener("click",()=>{s.classList.remove("collapsed"),t.classList.add("hidden")})}}customElements.get("widget-layout")||customElements.define("widget-layout",d);</script> <widget-layout data-id="tags" data-is-collapsed="false" class="pb-4 card-base onload-animation" style="animation-delay: 200ms; --collapsedHeight: 7.5rem;" data-astro-cid-ucso7hve="true"> <div class="font-bold transition text-lg text-neutral-900 dark:text-neutral-100 relative ml-8 mt-4 mb-2
        before:w-1 before:h-4 before:rounded-md before:bg-[var(--primary)]
        before:absolute before:left-[-16px] before:top-[5.5px]" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;">Tags</div> <div id="tags" class="collapse-wrapper px-4 overflow-hidden" data-astro-cid-ucso7hve style="--collapsedHeight: 7.5rem;">  <div class="flex gap-2 flex-wrap"> <a href="/archive/?tag=History" aria-label="View all posts with the History tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  History </a><a href="/archive/?tag=Leadership" aria-label="View all posts with the Leadership tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Leadership </a><a href="/archive/?tag=Management" aria-label="View all posts with the Management tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Management </a><a href="/archive/?tag=Philosophy" aria-label="View all posts with the Philosophy tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Philosophy </a><a href="/archive/?tag=Psychology" aria-label="View all posts with the Psychology tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Psychology </a><a href="/archive/?tag=Public%20Speech" aria-label="View all posts with the Public Speech tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Public Speech </a><a href="/archive/?tag=Technology" aria-label="View all posts with the Technology tag" class="btn-regular h-8 text-sm px-3 rounded-lg">  Technology </a> </div>  </div>  </widget-layout>   </div> </div> <main id="swup-container" class="transition-swup-fade col-span-2 lg:col-span-1 overflow-hidden"> <div id="content-wrapper" class="onload-animation"> <!-- the overflow-hidden here prevent long text break the layout--> <!-- make id different from windows.swup global property -->   <div class="flex w-full rounded-[var(--radius-large)] overflow-hidden relative mb-4"> <div id="post-container" class="card-base z-10 px-6 md:px-9 pt-6 pb-4 relative w-full "> <!-- word count and reading time --> <div class="flex flex-row text-black/30 dark:text-white/30 gap-5 mb-3 transition onload-animation"> <div class="flex flex-row items-center"> <div class="transition h-6 w-6 rounded-md bg-black/5 dark:bg-white/10 text-black/50 dark:text-white/50 flex items-center justify-center mr-2"> <svg width="1em" height="1em" data-icon="material-symbols:notes-rounded">   <symbol id="ai:material-symbols:notes-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M4 18q-.425 0-.712-.288T3 17t.288-.712T4 16h10q.425 0 .713.288T15 17t-.288.713T14 18zm0-5q-.425 0-.712-.288T3 12t.288-.712T4 11h16q.425 0 .713.288T21 12t-.288.713T20 13zm0-5q-.425 0-.712-.288T3 7t.288-.712T4 6h16q.425 0 .713.288T21 7t-.288.713T20 8z"/></symbol><use href="#ai:material-symbols:notes-rounded"></use>  </svg> </div> <div class="text-sm">18164  words</div> </div> <div class="flex flex-row items-center"> <div class="transition h-6 w-6 rounded-md bg-black/5 dark:bg-white/10 text-black/50 dark:text-white/50 flex items-center justify-center mr-2"> <svg width="1em" height="1em" data-icon="material-symbols:schedule-outline-rounded">   <symbol id="ai:material-symbols:schedule-outline-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M13 11.6V8q0-.425-.288-.712T12 7t-.712.288T11 8v3.975q0 .2.075.388t.225.337l3.3 3.3q.275.275.7.275T16 16t.275-.7t-.275-.7zM12 22q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.325 0 5.663-2.337T20 12t-2.337-5.663T12 4T6.337 6.338T4 12t2.338 5.663T12 20"/></symbol><use href="#ai:material-symbols:schedule-outline-rounded"></use>  </svg> </div> <div class="text-sm"> 91  minutes </div> </div> </div> <!-- title --> <div class="relative onload-animation"> <div data-pagefind-body data-pagefind-weight="10" data-pagefind-meta="title" class="transition w-full block font-bold font-Poppins mb-3 text-3xl md:text-[2.25rem]/[2.75rem] text-black/90 dark:text-white/90 md:before:w-1 before:h-5 before:rounded-md before:bg-[var(--primary)] before:absolute before:top-[0.75rem] before:left-[-1.125rem]"> Continuous Delivery </div> </div> <!-- metadata --> <div class="onload-animation"> <div class="flex flex-wrap text-neutral-500 dark:text-neutral-400 items-center gap-4 gap-x-4 gap-y-2 mb-5"> <!-- publish date --> <div class="flex items-center"> <div class="meta-icon"> <!-- Please visit https://icones.js.org/ for icon codes --> <!-- Need to install the corresponding icon set if it's not already included --> <!-- `pnpm add @iconify-json/<icon-set-name>` --> <svg width="1em" height="1em" class="text-xl" data-icon="material-symbols:calendar-today-outline-rounded">   <symbol id="ai:material-symbols:calendar-today-outline-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5zM5 8h14V6H5zm0 0V6z"/></symbol><use href="#ai:material-symbols:calendar-today-outline-rounded"></use>  </svg> </div> <span class="text-50 text-sm font-medium">2022-08-31</span> </div> <!-- update date --> <div class="flex items-center"> <div class="meta-icon"> <!-- Please visit https://icones.js.org/ for icon codes --> <!-- Need to install the corresponding icon set if it's not already included --> <!-- `pnpm add @iconify-json/<icon-set-name>` --> <svg width="1em" height="1em" class="text-xl" data-icon="material-symbols:edit-calendar-outline-rounded">   <symbol id="ai:material-symbols:edit-calendar-outline-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v4.025q0 .425-.288.713t-.712.287t-.712-.288t-.288-.712V10H5v10h6q.425 0 .713.288T12 21t-.288.713T11 22zM5 8h14V6H5zm0 0V6zm9 13v-1.65q0-.2.075-.387t.225-.338l5.225-5.2q.225-.225.5-.325t.55-.1q.3 0 .575.113t.5.337l.925.925q.2.225.313.5t.112.55t-.1.563t-.325.512l-5.2 5.2q-.15.15-.337.225T16.65 22H15q-.425 0-.712-.287T14 21m7.5-5.575l-.925-.925zm-6 5.075h.95l3.025-3.05l-.45-.475l-.475-.45l-3.05 3.025zm3.525-3.525l-.475-.45l.925.925z"/></symbol><use href="#ai:material-symbols:edit-calendar-outline-rounded"></use>  </svg> </div> <span class="text-50 text-sm font-medium">2025-07-19</span> </div> <!-- categories --> <div class="flex items-center"> <div class="meta-icon"> <!-- Please visit https://icones.js.org/ for icon codes --> <!-- Need to install the corresponding icon set if it's not already included --> <!-- `pnpm add @iconify-json/<icon-set-name>` --> <svg width="1em" height="1em" class="text-xl" data-icon="material-symbols:language">   <symbol id="ai:material-symbols:language" viewBox="0 0 24 24"><path fill="currentColor" d="M12 22q-2.05 0-3.875-.788t-3.187-2.15t-2.15-3.187T2 12q0-2.075.788-3.887t2.15-3.175t3.187-2.15T12 2q2.075 0 3.888.788t3.174 2.15t2.15 3.175T22 12q0 2.05-.788 3.875t-2.15 3.188t-3.175 2.15T12 22m0-2.05q.65-.9 1.125-1.875T13.9 16h-3.8q.3 1.1.775 2.075T12 19.95m-2.6-.4q-.45-.825-.787-1.713T8.05 16H5.1q.725 1.25 1.813 2.175T9.4 19.55m5.2 0q1.4-.45 2.488-1.375T18.9 16h-2.95q-.225.95-.562 1.838T14.6 19.55M4.25 14h3.4q-.075-.5-.112-.987T7.5 12t.038-1.012T7.65 10h-3.4q-.125.5-.187.988T4 12t.063 1.013t.187.987m5.4 0h4.7q.075-.5.113-.987T14.5 12t-.038-1.012T14.35 10h-4.7q-.075.5-.112.988T9.5 12t.038 1.013t.112.987m6.7 0h3.4q.125-.5.188-.987T20 12t-.062-1.012T19.75 10h-3.4q.075.5.113.988T16.5 12t-.038 1.013t-.112.987m-.4-6h2.95q-.725-1.25-1.812-2.175T14.6 4.45q.45.825.788 1.713T15.95 8M10.1 8h3.8q-.3-1.1-.775-2.075T12 4.05q-.65.9-1.125 1.875T10.1 8m-5 0h2.95q.225-.95.563-1.838T9.4 4.45Q8 4.9 6.912 5.825T5.1 8"/></symbol><use href="#ai:material-symbols:language"></use>  </svg> </div> <div class="flex flex-row flex-nowrap items-center"> <a href="/archive/?category=English" aria-label="View all posts in the English category" class="link-lg transition text-50 text-sm font-medium
                            hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> English </a> </div> </div> <!-- tags --> <div class="items-center flex"> <div class="meta-icon"> <!-- Please visit https://icones.js.org/ for icon codes --> <!-- Need to install the corresponding icon set if it's not already included --> <!-- `pnpm add @iconify-json/<icon-set-name>` --> <svg width="1em" height="1em" class="text-xl" data-icon="material-symbols:tag-rounded">   <symbol id="ai:material-symbols:tag-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="m9 16l-.825 3.275q-.075.325-.325.525t-.6.2q-.475 0-.775-.375T6.3 18.8L7 16H4.275q-.5 0-.8-.387T3.3 14.75q.075-.35.35-.55t.625-.2H7.5l1-4H5.775q-.5 0-.8-.387T4.8 8.75q.075-.35.35-.55t.625-.2H9l.825-3.275Q9.9 4.4 10.15 4.2t.6-.2q.475 0 .775.375t.175.825L11 8h4l.825-3.275q.075-.325.325-.525t.6-.2q.475 0 .775.375t.175.825L17 8h2.725q.5 0 .8.387t.175.863q-.075.35-.35.55t-.625.2H16.5l-1 4h2.725q.5 0 .8.388t.175.862q-.075.35-.35.55t-.625.2H15l-.825 3.275q-.075.325-.325.525t-.6.2q-.475 0-.775-.375T12.3 18.8L13 16zm.5-2h4l1-4h-4z"/></symbol><use href="#ai:material-symbols:tag-rounded"></use>  </svg> </div> <div class="flex flex-row flex-nowrap items-center"> <div class="hidden mx-1.5 text-[var(--meta-divider)] text-sm">/</div>
                <a href="/archive/?tag=Technology" aria-label="View all posts with the Technology tag" class="link-lg transition text-50 text-sm font-medium
                                hover:text-[var(--primary)] dark:hover:text-[var(--primary)] whitespace-nowrap"> Technology </a>  </div> </div> </div>  </div> <!-- always show cover as long as it has one --> <div id="post-cover" class="mb-8 rounded-xl banner-container onload-animation overflow-hidden relative"> <div class="transition absolute inset-0 dark:bg-black/10 bg-opacity-50 pointer-events-none"></div> <img src="/_astro/cover.DOBogW-3_Z2d5Ys9.webp" alt style="object-position: center" loading="lazy" decoding="async" fetchpriority="auto" width="1024" height="735" class="w-full h-full object-cover">  </div> <div data-pagefind-body class="prose dark:prose-invert prose-base !max-w-none custom-md mb-6 markdown-content onload-animation font-Poppins"> <!--<div class="prose dark:prose-invert max-w-none custom-md">--> <!--<div class="max-w-none custom-md">-->  <p>For those who are getting into DevOps, build a home lab or spin up some servers on a cloud provider like DigitalOcean
for example. Dive into</p>
<ul>
<li>
<p>Domain/DNS zones, records</p>
<ul>
<li><a href="https://github.com/saidutt46/domain-check">domain-check</a> is a good tool</li>
</ul>
</li>
<li>
<p>Load balancers</p>
</li>
<li>
<p>Learn some kind of Cloud platform - AWS is most common but GCP and Azure are also sought after. Openstack (“private
cloud” installed on one’s own hardware) is also pretty cool but here be dragons, also it’s rare to see roles looking
for this. The plus side is that if one has hardware to spare then is lots of the same concepts, if not terminology,
apply to public clouds.</p>
</li>
<li>
<p>Understand VPC, networking, security at a conceptual level (think medieval fortress, office building security). Brush
up on networking fundamentals. We aren’t looking to be a network engineer but should have some grasp of subnetting so
we can read and write a route table and security groups. This comes up often in Cloud infra. Learn how to troubleshoot
with dig, curl, telnet, netstat, tcpdump, and netcat.</p>
</li>
<li>
<p>Ideally some Linux knowledge and bash scripting - but Windows/Powershell is also good to know, especially if looking
into Azure. We want to be able to read and write basic scripts.</p>
</li>
<li>
<p>Learn how to use git, or some other version control system. Code has to live somewhere and we want to know how to
clone repositories, branch a repo, and push commits.</p>
</li>
<li>
<p>Containerization. Start with Docker, basic bash or Python scripting skills and comfort in shell will help immensely
here. Kubernetes is in high demand but we first want to get a grip on containers.</p>
</li>
<li>
<p>Automation. Terraform and Ansible are both super cool but almost distinct languages unto themselves.</p>
</li>
<li>
<p>CI/CD pipelines, Jenkins, gitlab-ci, GitHub actions, etc. The principles of continuous integration and continuous
delivery and how that ties into software development. This is the real meat and potatoes of what DevOps traditionally
entails but it depends a lot on all these other pieces.</p>
</li>
<li>
<p>Web API and architecture. Not all but lots of DevOps generally revolves around supporting some kind of web
application. Arguably DevOps exists to support microservices running in some platform (AWS, K8s, etc.) which
traditionally would have been part of a monolithic server architecture.</p>
</li>
<li>
<p>etc.</p>
</li>
</ul>
<p>Also, check out <a href="https://roadmap.sh/devops">https://roadmap.sh/devops</a> and <a href="https://devops-daily.com/roadmap">https://devops-daily.com/roadmap</a> to see where your gaps are. In addition,
<a href="https://hw.glich.co/">Hello, World!</a> is a great resource to go with.</p>
<section><h2 id="what-is-continuous-delivery">What is Continuous Delivery<a class="anchor" href="#what-is-continuous-delivery"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p>Continuous Delivery is the ability to get changes of all types - including new features, configuration changes, bug
fixes and experiments - into production, or into the hands of users, <em>safely</em> and <em>quickly</em> in a <em>sustainable</em> way.</p><p>The goal of continuous delivery is to make deployments - whether of a large-scale distributed system, a complex
production environment, an embedded system, or an app - predictable, routine affairs that can be performed on demand.</p><p>We achieve all this by ensuring our code is always in a deployable state, even in the face of teams of thousands of
developers making changes on a daily basis. We thus completely eliminate the integration, testing and hardening phases
that traditionally followed “dev complete”, as well as code freezes.</p><section><h3 id="why-continuous-delivery">Why Continuous Delivery<a class="anchor" href="#why-continuous-delivery"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>It is often assumed that if we want to deploy software more frequently, we must accept lower levels of stability and
reliability in our systems. In fact, peer-reviewed research shows that this is not the case. High performance teams
consistently deliver services faster and more reliably than their low performing competition. This is true even in
highly regulated domains such as <a href="https://www.youtube.com/watch?v=eMS97X5ZTGc">financial services</a> and
<a href="https://www.youtube.com/watch?v=QwHVlJtqhaI">government</a>. This capability provides an incredible competitive advantage
for organizations that are willing to invest the effort to pursue it.</p><blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><ul>
<li>Firms with high-performing IT organizations were twice as likely to exceed their profitability, market share and
productivity goals.</li>
<li>High performers achieved higher levels of both throughput and stability.</li>
<li>The use of continuous delivery practices including version control, continuous integration, and test automation
predicts higher IT performance.</li>
<li>Culture is measurable and predicts job satisfaction and organizational performance.</li>
<li>Continuous Delivery measurably reduces both deployment pain and team burnout.</li>
</ul></blockquote><p>The practices at the heart of continuous delivery help us achieve several important benefits:</p><ul>
<li>
<p><strong>Low risk releases</strong>. The primary goal of continuous delivery is to make software deployments painless, low-risk
events that can be performed at any time, on demand. By applying <a href="#patterns">patterns</a> such as <strong>blue-green
deployments</strong> it is relatively straightforward to achieve zero-downtime deployments that are undetectable to users.</p>
<blockquote class="admonition bdm-note"><span class="bdm-title"><div>Blue-green Deployment</div></span><p><img alt="Error loading blue-green-deployments.png" loading="lazy" decoding="async" fetchpriority="auto" width="953" height="607" src="/_astro/blue-green-deployments.DQQ0B1tB_1ViCt7.webp" ></p><p>One of the challenges with automating deployment is the cut-over itself, taking software from the final stage of
testing to live production. We usually need to do this quickly in order to minimize downtime. The blue-green
deployment approach does this by ensuring we have <strong>two production environments</strong>, as identical as possible. At any
time one of them, let’s say blue for the example, is live. As we prepare a new release of our software we do our
final stage of testing in the green environment. Once the software is working in the green environment, we switch the
router so that all incoming requests go to the green environment - the blue one is now idle.</p><p>Blue-green deployment also gives us a rapid way to rollback - if anything goes wrong we switch the router back to
our blue environment. There’s still the issue of dealing with missed transactions while the green environment was
live, but depending on our design we may be able to feed transactions to both environments in such a way as to keep
the blue environment as a backup when the green is live. Or we may be able to put the application in read-only mode
before cut-over, run it for a while in read-only mode, and then switch it to read-write mode. That may be enough to
flush out many outstanding issues.</p><p>The two environments need to be different but as identical as possible. In some situations they can be different
pieces of hardware, or they can be different virtual machines running on the same (or different) hardware. They can
also be a single operating environment partitioned into separate zones with separate IP addresses for the two slices.</p><p>Once we’ve put our green environment live and we’re happy with its stability, we then use the blue environment as
our <strong>staging environment</strong> for the final testing step for our next deployment. When we are ready for our next
release, we switch from green to blue in the same way that we did from blue to green earlier. That way both green and
blue environments are regularly cycling between live, previous version (for rollback) and staging the next version.</p><p>An advantage of this approach is that it’s the same basic mechanism as we need to get a hot-standby working. Hence
this allows us to test our disaster-recovery procedure on every release.</p><p>The fundamental idea is to have two easily switchable environments to switch between, there are plenty of ways to vary
the details. One project did the switch by bouncing the web server rather than working on the router. Another
variation would be to use the same database, making the blue-green switches for web and domain layers.</p><p>Databases can often be a challenge with this technique, particularly when we need to change the schema to support a
new version of the software. The trick is to <strong>separate the deployment of schema changes from application upgrades</strong>.
So first apply a database refactoring to change the schema to support both the new and old version of the application,
deploy that, check everything is working fine so we have a rollback point, then deploy the new version of the
application. (And when the upgrade has bedded down remove the database support for the old version.)</p></blockquote>
</li>
<li>
<p><strong>Faster time to market</strong>. It’s common for the integration and test/fix phase of the traditional phased software
delivery lifecycle to consume weeks to even months. When teams work together to automate the build and deployment,
environment provisioning, and regression testing process, developers can incorporate integration and regression
testing into their daily work and completely remove these phases. We also avoid the large amount of re-work that
plague the phased approach.</p>
</li>
<li>
<p><strong>Higher quality and Better products</strong>. When developers have automated tools that discover regressions within minutes,
teams are freed to <strong>focus their effort on user research and higher level testing activities</strong> such as exploratory
testing, usability testing, and performance and security testing. By building a deployment pipeline, these activities
can be performed continuously throughout the delivery process, ensuring quality is built into products and services
from the beginning. Continuous delivery makes it economic to work in small batches. This means we can get feedback
from users throughout the delivery lifecycle based on working software.</p>
</li>
<li>
<p><strong>Lower costs</strong>. Any successful software product or service will evolve significantly over the course of its lifetime.
By investing in build, test, deployment and environment automation, we substantially reduce the cost of making and
delivering incremental changes to software by <strong>eliminating many of the fixed costs</strong> associated with the release
process.</p>
</li>
<li>
<p><strong>Happier teams</strong>. Continuous Delivery makes releases less painful and reduces team burnout. Furthermore, when we
release more frequently, software delivery teams can engage more actively with users, learn which ideas work and which
don’t, and see first-hand then outcomes of the work they have done. By removing low-value painful activities
accociated with software delivery, we can fodus on what we care about most - continuous delighting our users.</p>
</li>
</ul><p><strong>Continuous delivery is about continuous, daily improvement - the constant discipline of pursuing higher performance by
following the heuristic “if it hurts, do it more often, and bring the pain forward.”</strong></p></section></section>
<section><h2 id="principles">Principles<a class="anchor" href="#principles"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p>There are five principles at the heart of continuous delivery:</p><ol>
<li>Build quality in</li>
<li>Work in small batches</li>
<li>Computers perform repetitive tasks, people solve problems</li>
<li>Relentlessly pursue continuous improvement</li>
<li>Everyone is responsible</li>
</ol><p>It’s easy to get bogged down in the details of implementing continuous delivery - tools, architecture, practices,
politics - if you find yourself lost, try revisiting these principles and you may find it helps you refocus on what’s
important.</p><section><h3 id="build-quality-in">Build Quality In<a class="anchor" href="#build-quality-in"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>W. Edwards Deming, a key figure in the history of the Lean movement, offered
<a href="https://deming.org/explore/fourteen-points">14 key principles</a> for management. Principle three states, “Cease
dependence on inspection to achieve quality. Eliminate the need for inspection on a mass basis by building quality into
the product in the first place”.</p><p>It’s much cheaper to fix problems and defects if we find them immediately - ideally before they are ever checked into
version control, by running automated tests locally. Finding defects downstream through inspection (such as manual
testing) is time-consuming, requiring significant triage. Then we must fix the defect, trying to recall what we were
thinking when we introduced the problem days or perhaps even weeks ago.</p><p>Creating and evolving feedback loops to detect problems as early as possible is essential and never-ending work in
continuous delivery. If we find a problem in our exploratory testing, we must not only fix it, but then ask: How could
we have caught the problem with an automated acceptance test? When an acceptance test fails, we should ask: Could we
have written a unit test to catch this problem?</p></section><section><h3 id="work-in-small-batches">Work in Small Batches<a class="anchor" href="#work-in-small-batches"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>In traditional phased approaches to software development, handoffs from dev to test or test to IT operations consist of
whole releases: months worth of work by teams consisting of tens or hundreds of people.</p><p>In continuous delivery, we take the opposite approach, and try and get every change in version control as far towards
release as we can, getting comprehensive feedback as rapidly as possible.</p><p>Working in small batches has many benefits. It reduces the time it takes to get feedback on our work, makes it easier to
triage and remediate problems, increases efficiency and motivation, and prevents us from succumbing to the sunk cost
fallacy.</p><p>The reason we work in large batches is because of the large fixed cost of handing off changes. <strong>A key goal of
continuous delivery is to change the economics of the software delivery process to make it economically viable to work
in small batches so we can obtain the many benefits of this approach</strong>.</p><blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>A key goal of continuous delivery is to change the economics of the software delivery process to make it economically
viable to work in small batches so we can obtain the many benefits of this approach</p></blockquote></section><section><h3 id="relentlessly-pursue-continuous-improvement">Relentlessly Pursue Continuous Improvement<a class="anchor" href="#relentlessly-pursue-continuous-improvement"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>Continuous improvement, or <em>kaizen</em> in Japanese, is another key idea from the Lean movement.
<a href="http://www.amazon.com/dp/0071808019?tag=contindelive-20">Taiichi Ohno</a>, a key figure in the history of the Toyota
company, once said,</p><blockquote>
<p>“Kaizen opportunitites are infinite. Don’t think you have made things better than before and be at ease… This would be
like the student who becomes proud because they bested their master two times out of three in fencing. Once you pick
up the sprouts of kaizen ideas, it is important to have the attitude in our daily work that just underneath one kaizen
idea is yet another one”.</p>
</blockquote><p>Don’t treat transformation as a project to be embarked on and then completed so we can return to business as usual. The
best organizations are those where everybody treats improvement work as an essential part of their daily work, and where
nobody is satisfied with the status quo.</p></section><section><h3 id="everyone-is-responsible">Everyone is Responsible<a class="anchor" href="#everyone-is-responsible"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>In high performing organizations, nothing is “somebody else’s problem.” Developers are responsible for the quality and
stability of the software they build. Operations teams are responsible for helping developers build quality in. Everyone
works together to achieve the organizational level goals, rather than optimizing for what’s best for their team or
department.</p><p>When people make local optimizations that reduce the overall performance of the organization, it’s often due to systemic
problems such as poor management systems such as annual budgeting cycles, or incentives that reward the wrong behaviors.
A classic example is rewarding developers for increasing their velocity or writing more code, and rewarding testers
based on the number of bugs they find.</p><p>Most people want to do the right thing, but they will adapt their behaviour based on how they are rewarded. Therefore,
it is very important to create fast feedback loops from the things that really matter: how customers react to what we
build for them, and the impact on our organization.</p></section></section>
<section><h2 id="foundations---prerequisites-for-continuous-delivery">Foundations - Prerequisites for Continuous Delivery<a class="anchor" href="#foundations---prerequisites-for-continuous-delivery"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><section><h3 id="configuration-management">Configuration Management<a class="anchor" href="#configuration-management"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>Automation plays a vital role in ensuring we can release software repeatably and reliably. One key goal is to take
repetitive manual processes like build, deployment, regression testing and infrastructure provisioning, and automate
them. In order to achieve this, we need to version control everything required to perform these processes, including
source code, test and deployment scripts, infrastructure and application configuration information, and the many
libraries and packages we depend upon. We also want to make it straightforward to query the current -and historical -
state of our environments.</p><p>We have two overriding goals:</p><ol>
<li><strong>Reproducibility</strong>: We should be able to provision any environment in a fully automated fashion, and know that any
new environment reproduced from the same configuration is identical.</li>
<li><strong>Traceability</strong>: We should be able to pick any environment and be able to determine quickly and precisely the
versions of every dependency used to create that environment. We also want to be able to compare previous versions of
an environment and see what has changed between them.</li>
</ol><p>These capabilities give us several very important benefits:</p><ol>
<li><strong>Disaster recovery</strong>: When something goes wrong with one of our environments, for example a hardware failure or a
security breach, we need to be able to reproduce that environment in a deterministic amount of time in order to be
able to restore service.</li>
<li><strong>Auditability</strong>: In order to demonstrate the integrity of the delivery process, we need to be able to show the path
backwards from every deployment to the elements it came from, including their version. Comprehensive configuration
management, combined with deployment pipelines, enable this.</li>
<li><strong>Higher quality</strong>: The software delivery process is often subject to long delays waiting for development, testing
and production environments to be prepared. When this can be done automatically from version control, we can get
feedback on the impact of our changes much more rapidly, enabling us to build quality in to our software.</li>
<li><strong>Capacity management</strong>: When we want to add more capacity to our environments, the ability to create new
reproductions of existing servers is essential. This capability, using <a href="https://www.openstack.org/">OpenStack</a> for
example, enables the horizontal scaling of modern cloud-based distributed systems.</li>
<li><strong>Response to defects</strong>: When we discover a critical defect, or a vulnerability in some component of our system, we
want to get a new version of our software released as quickly as possible. Many organizations have an emergency
process for this type of change which goes faster by bypassing some of the testing and auditing. This presents an
especially serious dilemma in safety-critical systems. Our goal should be to be able to use our normal release
process for emergency fixes - which is precisely what continuous delivery enables, on the basis of comprehensive
configuration management.</li>
</ol><p>As environments become more complex and heterogeneous, it becomes progressively harder to achieve these goals. Achieving
perfect reproducibility and traceability to the last byte for a complex enterprise system is impossible (apart from
anything else, every real system has state). Thus a key part of configuration management is working to <strong>simplify our
architecture, environments and processes</strong> to reduce the investment required to achieve the desired benefits.</p><section><h4 id="configuration-management-learning-resources">Configuration Management Learning Resources<a class="anchor" href="#configuration-management-learning-resources"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><ul>
<li><a href="https://www.oreilly.com/library/view/infrastructure-as-code/9781491924334/">Infrastructure as Code</a></li>
<li><a href="http://www.infoq.com/presentations/scaling-operations-facebook">Pedro Canahuati on scaling operations at Facebook</a></li>
</ul></section></section><section><h3 id="continuous-integration">Continuous Integration<a class="anchor" href="#continuous-integration"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>Combining the work of multiple developers is hard. Software systems are complex, and an apparently simple,
self-contained change to a single file can easily have unintended consequences which compromise the correctness of the
system. As a result, some teams have developers work isolated from each other on their own branches, both to keep
trunk/master stable, and to prevent them treading on each other’s toes.</p><p>However, over time these branches diverge from each other. While merging a single one of these branches into mainline is
not usually troublesome, the work required to integrate multiple long-lived branches into mainline is usually painful,
requiring significant amounts of re-work as conflicting assumptions of developers are revealed and must be resolved.</p><p>Teams using long-lived branches often require code freezes, or even integration and stabilization phases, as they work
to integrate these branches prior to a release. Despite modern tooling, this process is still expensive and
unpredictable. On teams larger than a few developers, the integration of multiple branches requires multiple rounds of
regression testing and bug fixing to validate that the system will work as expected following these merges. This problem
becomes exponentially more severe as team sizes grow, and as branches become more long-lived.</p><p>The practice of continuous integration was invented to address these problems. CI (continuous integration) follows the
XP (extreme programming) principle that if something is painful, we should do it more often, and bring the pain forward.
Thus in CI developers integrate all their work into trunk (also known as mainline or master) on a regular basis (at
least daily). A set of automated tests is run both <strong>before and after</strong> the merge to validate that no regressions are
introduced. If these automated tests fail, the team stops what they are doing and someone fixes the problem immediately.</p><p>Thus we ensure that the software is always in a working state, and that developer branches do not diverge significantly
from trunk. The benefits of continuous integration are very significant - higher levels of throughput, more stable
systems, and higher quality software. However the practice is still controversial, for two main reasons.</p><p>First, it requires developers to break up large features and other changes into smaller, more incremental steps that can
be integrated into trunk/master. This is a paradigm shift for developers who are not used to working in this way. It also
takes longer to get large features completed. However in general we don’t want to optimize for the speed at which
developers can declare their work “dev complete” on a branch. Rather, we want to be able to get changes reviewed,
integrated, tested and deployed as fast as possible - and this process is an order of magnitude faster and cheaper when
the changes are small and self-contained, and the branches they live on are short-lived. Working in small batches also
ensures developers get regular feedback on the impact of their work on the system as a whole - from other developers,
testers, customers, and automated performance and security tests—which in turn makes any problems easier to detect,
triage, and fix.</p><p>Second, continuous integration requires a fast-running set of comprehensive automated unit tests. These tests should be
comprehensive enough to give a good level of confidence that the software will work as expected, while also running in a
few minutes or less. If the automated unit tests take longer to run, developers will not want to run them frequently,
and they will become harder to maintain. Creating maintainable suites of automated unit tests is complex and is best done
through test-driven development (TDD), in which developers write failing automated tests before they implement the code
that makes the tests pass. TDD has several benefits, the most important of which is that it ensures developers write code
that is modular and easy to test, reducing the maintenance cost of the resulting automated test suites. But TDD is still
not sufficiently widely practiced.</p><p>Despite these barriers, <strong>helping software development teams implement continuous integration should be the number one
priority for any organization</strong> wanting to start the journey to continuous delivery. By creating rapid feedback loops
and ensuring developers work in small batches, CI enables teams to build quality into their software, thus reducing the
cost of ongoing software development, and increasing both the productivity of teams and the quality of the work they
produce.</p><section><h4 id="continuous-integration-learning-resources">Continuous Integration Learning Resources<a class="anchor" href="#continuous-integration-learning-resources"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><ul>
<li><a href="http://www.amazon.com/dp/0321336380?tag=contindelive-20">Paul Duvall’s book on Continuous Integration</a></li>
</ul></section></section><section><h3 id="continuous-testing">Continuous Testing<a class="anchor" href="#continuous-testing"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>The key to building quality into our software is making sure we can get fast feedback on the impact of changes.
Traditionally, extensive use was made of manual inspection of code changes and manual testing (testers following
documentation describing the steps required to test the various functions of the system) in order to demonstrate the
correctness of the system. This type of testing was normally done in a phase following “dev complete”. However this
strategy have several drawbacks:</p><ul>
<li>Manual regression testing takes a long time and is relatively expensive to perform, creating a bottleneck that
prevents us releasing software more frequently, and getting feedback to developers weeks (and sometimes months) after
they wrote the code being tested.</li>
<li>Manual tests and inspections are not very reliable, since people are notoriously poor at performing repetitive tasks
such as regression testing manually, and it is extremely hard to predict the impact of a set of changes on a complex
software system through inspection.</li>
<li>When systems are evolving over time, as is the case in modern software products and services, we have to spend
considerable effort updating test documentation to keep it up-to-date.</li>
</ul><p>In order to build quality in to software, we need to adopt a
<a href="#different-types-of-software-testing">different approach</a>.</p><p>The more features and improvements go into our code, the more we’ll need to test to make sure that all our system works
properly. And then for each bug we fix, it would be wise to check that they don’t get back in newer releases.
Automation is key to make this possible and writing tests sooner rather than later will become part of our development
workflow.</p><p>Once we have continuous integration and test automation in place, we create a
<a href="#the-deployment-pipeline">deployment pipeline</a>. In the deployment pipeline pattern, every change runs a build that</p><ul>
<li>creates packages that can be deployed to any environment and</li>
<li>runs unit tests (and possibly other tasks such as static analysis), giving feedback to developers in the space of a
few minutes.</li>
</ul><p>Packages that pass this set of tests have more comprehensive automated acceptance tests run against them. Once we have
packages that pass all the automated tests, they are available for deplyment to other environments.</p><p>In the deployment pipeline, every change is effectively a release candidate. The job of the deployment pipeline is to
catch known issues. If we can’t detect any known problems, we should feel totally comfortable releasing any packages
that have gone through it. If we aren’t, or if we discover defects later, it means we need to improve our pipeline,
perhaps adding or updating some tests.</p><p>Our goal should be to find problems as soon as possible, and make the lead time from check-in to release as short as
possible. Thus we want to parallelize the activities in the deployment pipeline, not have many stages executing in
series. If we discover a defect in the acceptance tests, we should be looking to improve our unit tests (most of our
defects should be discovered through unit testing).</p><section><h4 id="different-types-of-software-testing">Different Types of Software Testing<a class="anchor" href="#different-types-of-software-testing"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><section><h5 id="unit-tests">Unit Tests<a class="anchor" href="#unit-tests"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>Unit tests are very low level and close to the source of an application. They consist in testing individual methods and
functions of the classes, components, or modules used by our software. Unit tests are generally quite cheap to automate
and can run very quickly by a continuous integration server.</p></section><section><h5 id="integration-tests">Integration Tests<a class="anchor" href="#integration-tests"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>Integration tests verify that different modules or services used by our application work well together. For example, it
can be testing the interaction with the database or making sure that microservices work together as expected. These
types of tests are more expensive to run as they require multiple parts of the application to be up and running.</p></section><section><h5 id="functional-tests">Functional Tests<a class="anchor" href="#functional-tests"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>Functional tests focus on the business requirements of an application. They only verify the output of an action and do
not check the intermediate states of the system when performing that action.</p><p>There is sometimes a confusion between integration tests and functional tests as they both require multiple components
to interact with each other. The difference is that an integration test may simply verify that we can query the
database while a functional test would expect to get a specific value from the database as defined by the product
requirements.</p></section><section><h5 id="end-to-end-tests">End-to-End Tests<a class="anchor" href="#end-to-end-tests"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>End-to-end testing replicates a user behavior with the software in a complete application environment. It verifies that
various user flows work as expected and can be as simple as loading a web page or logging in or much more complex
scenarios verifying email notifications, online payments, etc…</p><p>End-to-end tests are very useful, but they’re expensive to perform and can be hard to maintain when they’re automated.
It is recommended to have a few key end-to-end tests and rely more on lower level types of testing (unit and
integration tests) to be able to quickly identify breaking changes.</p></section><section><h5 id="acceptance-tests">Acceptance Tests<a class="anchor" href="#acceptance-tests"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>Acceptance tests are formal tests that verify if a system satisfies business requirements. They require the entire
application to be running while testing and focus on replicating user behaviors. But they can also go further and
measure the performance of the system and reject changes if certain goals are not met.</p></section><section><h5 id="performance-tests">Performance Tests<a class="anchor" href="#performance-tests"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>Performance tests evaluate how a system performs under a particular workload. These tests help to measure the
reliability, speed, scalability, and responsiveness of an application. For instance, a performance test can observe
response times when executing a high number of requests, or determine how a system behaves with a significant amount of
data. It can determine if an application meets performance requirements, locate bottlenecks, measure stability during
peak traffic, and more.</p></section><section><h5 id="smoke-tests">Smoke Tests<a class="anchor" href="#smoke-tests"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>Smoke tests are basic tests that check the basic functionality of an application. They are meant to be quick to
execute, and their goal is to give us the assurance that the major features of our system are working as expected.</p><p>Smoke tests can be useful right after a new build is made to decide whether or not we can run more expensive tests, or
right after a deployment to make sure that they application is running properly in the newly deployed environment.</p></section></section></section></section>
<section><h2 id="implementing-continuous-delivery">Implementing Continuous Delivery<a class="anchor" href="#implementing-continuous-delivery"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p>Organizations attempting to deploy continuous delivery tend to make two common mistakes. The first is to treat
continuous delivery as an end-state, a goal in itself. The second is to spend a lot of time and energy worrying about
what products to use.</p><section><h3 id="evolutionary-architecture">Evolutionary Architecture<a class="anchor" href="#evolutionary-architecture"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>In the context of enterprise architecture there are typically multiple attributes we are concerned about, for example
availability, security, performance, usability and so forth. In continuous delivery, we introduce two new architectural
attributes:</p><ol>
<li><strong>testability</strong></li>
<li><strong>deployability</strong></li>
</ol><p>In a <em>testable</em> architecture, we design our software such that most defects can (in principle, at least) be discovered
by developers by running automated tests on their workstations. We shouldn’t need to depend on complex, integrated
environments in order to do the majority of our acceptance and regression testing.</p><p>In a <em>deployable</em> architecture, deployments of a particular product or service can be performed independently and in a
fully automated fashion, without the need for significant levels of orchestration. Deployable systems can typically be
upgraded or reconfigured with zero or minimal downtime.</p><p>Where testability and deployability are not prioritized, we find that much testing requires the use of complex,
integrated environments, and deployments are “big bang” events that require that many services are released at the same
time due to complex interdependencies. These “big bang” deployments require many teams to work together in a carefully
orchestrated fashion with many hand-offs, and dependencies between hundreds or thousands of tasks. Such deployments
typically take many hours or even days, and require scheduling significant downtime.</p><p>Designing for testability and deployability starts with ensuring our products and services are composed of
loosely-coupled, well-encapsulated components or modules</p><p>We can define a well-designed modular architecture as one in which it is possible to test or deploy a single component
or service on its own, with any dependencies replaced by a suitable test double, which could be in the form of a virtual
machine, a stub, or a mock. Each component or service should be deployable in a fully automated fashion on developer
workstations, test environments, or in production. In a well-designed architecture, it is possible to get a high level of
confidence the component is operating properly when deployed in this fashion.</p><p>:::note Test Double</p><p>Test Double is a generic term for any case where you replace a production object for testing purposes. There are various
kinds of double:</p><ul>
<li><strong>Dummy</strong> objects are passed around but never actually used. Usually they are just used to fill parameter lists.</li>
<li><strong>Fake</strong> objects actually have working implementations, but usually take some shortcut which makes them not suitable
for production (an InMemoryTestDatabase is a good example).</li>
<li><strong>Stubs</strong> provide canned answers to calls made during the test, usually not responding at all to anything outside
what’s programmed in for the test.</li>
<li><strong>Spies</strong> are stubs that also record some information based on how they were called. One form of this might be an email
service that records how many messages it was sent.</li>
<li><strong>Mocks</strong> are pre-programmed with expectations which form a specification of the calls they are expected to receive.
They can throw an exception if they receive a call they don’t expect and are checked during verification to ensure
they got all the calls they were expecting.</li>
</ul><p>:::</p><p>Any true service-oriented architecture should have these properties—but unfortunately many do not. However, the
microservices movement has explicitly prioritized these architectural properties.</p><p>Of course, many organizations are living in a world where services are distinctly hard to test and deploy. Rather than
re-architecting everything, we recommend an iterative approach to improving the design of enterprise system, sometimes
known as evolutionary architecture. In the evolutionary architecture paradigm, we accept that successful products and
services will require re-architecting during their lifecycle due to the changing requirements placed on them.</p><p>One pattern that is particularly valuable in this context is the strangler application. In this pattern, we iteratively
replace a monolithic architecture with a more componentized one by ensuring that new work is done following the
principles of a service-oriented architecture, while accepting that the new architecture may well delegate to the system
it is replacing. Over time, more and more functionality will be performed in the new architecture, and the old system
being replaced is “strangled”.</p><p><img  loading="lazy" decoding="async" fetchpriority="auto" width="1458" height="748" src="/_astro/strangler._ivAYsyJ_Z1dMXbi.webp" ></p></section><section><h3 id="patterns">Patterns<a class="anchor" href="#patterns"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><section><h4 id="the-deployment-pipeline">The Deployment Pipeline<a class="anchor" href="#the-deployment-pipeline"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>The key pattern introduced in continuous delivery is the <strong>deployment pipeline</strong>. Our goal was to make deployment to any
environment a fully automated, scripted process that could be performed on demand in minutes. We wanted to be able to
configure testing and production environments purely from configuration files stored in version control. The apparatus
we used to perform these tasks became known as <em>deployment pipelines</em></p><p>In the deployment pipeline pattern, every change in version control triggers a process (usually in a CI server) which
creates deployable packages and runs automated unit tests and other validations such as static code analysis. This first
step is optimized so that it takes only a few minutes to run. If this initial commit stage fails, the problem must be
fixed immediately; nobody should check in more work on a broken commit stage. Every passing commit stage triggers the
next step in the pipeline, which might consist of a more comprehensive set of automated tests. Versions of the software
that pass all the automated tests can then be deployed to production.</p><p>Deployment pipelines tie together <a href="#configuration-management">configuration management</a>,
<a href="#continuous-integration">continuous integration</a> and <a href="#continuous-testing">test</a> and deployment automation in a
holistic, powerful way that works to improve software quality, increase stability, and reduce the time and cost required
to make incremental changes to software, whatever domain we’re operating in. When building a deployment pipeline, the
following practices become valuable:</p><ul>
<li><strong>Only build packages once</strong>. We want to be sure the thing we’re deploying is the same thing we’ve tested throughout
the deployment pipeline, so if a deployment fails we can eliminate the packages as the source of the failure.</li>
<li><strong>Deploy the same way to every environment, including development</strong>. This way, we test the deployment process many,
many times before it gets to production, and again, we can eliminate it as the source of any problems.</li>
<li><strong>Smoke test your deployments</strong>. Have a script that validates all your application’s dependencies are available, at
the location you have configured your application. Make sure your application is running and available as part of the
deployment process.</li>
<li><strong>Keep your environments similar</strong>. Although they may differ in hardware configuration, they should have the same
version of the operating system and middleware packages, and they should be configured in the same way. This has
become much easier to achieve with modern virtualization and container technology.</li>
</ul><p>With the advent of infrastructure as code, it has became possible to use deployment pipelines to create a fully
automated process for taking all kinds of changes—including database and infrastructure changes</p></section></section><section><h3 id="patterns-for-low-risk-releases">Patterns for Low-Risk Releases<a class="anchor" href="#patterns-for-low-risk-releases"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>In the context of web-based systems there are a number of patterns that can be applied to further reduce the risk of
deployments. Michael Nygard also describes a number of important software design patterns which are instrumental in
creating resilient large-scale systems in his book
<a href="http://www.amazon.com/dp/0978739213?tag=contindelive-20">Release It!</a></p><p>The 3 key principles that enable low-risk releases are</p><ol>
<li><strong>Optimize for Resilience</strong>. Once we accept that failures are inevitable, we should start to move away from the idea
of investing all our effort in preventing problems, and think instead about how to restore service as rapidly as
possible when something goes wrong. Furthermore, when an accident occurs, we should treat it as a learning
opportunity. Resilience isn’t just a feature of our systems, it’s a characteristic of a team’s culture. High
performance organizations are constantly working to improve the resilience of their systems by trying to break them
and implementing the lessons learned in the course of doing so.</li>
<li><strong>Low-risk Releases are Incremental</strong>. Our goal is to architect our systems such that we can release individual
changes (including database changes) independently, rather than having to orchestrate big-bang releases due to tight
coupling between multiple different systems.</li>
<li><strong>Focus on Reducing Batch Size</strong>. Counterintuitively, deploying to production more frequently actually reduces the
risk of release when done properly, simply because the amount of change in each deployment is smaller. When each
deployment consists of tens of lines of code or a few configuration settings, it becomes much easier to perform root
cause analysis and restore service in the case of an incident. Furthermore, because we practice the deployment
process so frequently, we’re forced to simplify and automate it which further reduces risk.</li>
</ol></section></section>
<section><h2 id="deploying-vs-releasing">Deploying v.s. Releasing<a class="anchor" href="#deploying-vs-releasing"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><section><h3 id="what-is-software-release">What is Software Release<a class="anchor" href="#what-is-software-release"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>A release is <strong>a collection of one or more new or changed services or service components deployed into the live
environment as a result of one or more changes</strong></p><p>In other words, a release makes services and features available to users. More often than not,
<a href="https://www.bmc.com/blogs/devops-release-management/">release management</a> is more of a business responsibility than a
technical responsibility. This is because the decisions on scheduling releases can be tied to business strategy from a
revenue or portfolio management perspective.</p></section><section><h3 id="what-is-deployment">What is Deployment<a class="anchor" href="#what-is-deployment"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>Deployment involves moving software from one controlled environment to another. <strong>An environment is a subset of IT
infrastructure used for a particular purpose</strong>. The most common environments are:</p><ul>
<li><strong>Development</strong>. Commonly referred to as <em>dev</em>, this is where developers build the code.</li>
<li><strong>Integration</strong>. Here, the new code is combined and validated that it works with existing code.</li>
<li><strong>Test</strong>. This is where both functional and non-functional tests are conducted on the merged code to confirm it meets
organization and customer requirements.</li>
<li><strong>Staging</strong>. This environment is used to test the software using real data to validate it is ready for use.</li>
<li><strong>Production</strong>. Commonly referred to as prod, this is where the software is made available to users.</li>
</ul><section><h4 id="trunk-based-development">Trunk-Based Development<a class="anchor" href="#trunk-based-development"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Trunk-based development is a version control management practice where developers merge small, frequent updates to a
core “trunk” or main branch. Since it streamlines merging and integration phases, it helps achieve CI/CD and increases
software delivery and organizational performance.</p><p>In the early days of software development, programmers didn’t have the luxury of modern version control systems. Rather,
they developed two versions of their software concurrently as a means of tracking changes and reversing them if
necessary. Over time, this process proved to be labor-intensive, costly, and inefficient.</p><p>As version control systems matured, various development styles emerged, enabling programmers to find bugs more easily,
code in parallel with their colleagues, and accelerate release cadence. Today, most programmers leverage one of two
development models to deliver quality software</p><ol>
<li>Gitflow</li>
<li>trunk-based development</li>
</ol><p>Gitflow, which was popularized first, is a stricter development model where only certain individuals can approve changes
to the main code. This maintains code quality and minimizes the number of bugs. Trunk-based development is a more open
model since all developers have access to the main code. This enables teams to iterate quickly and implement
<a href="https://www.atlassian.com/continuous-delivery">CI/CD</a>.</p><section><h5 id="what-is-trunk-based-development">What is Trunk-Based Development<a class="anchor" href="#what-is-trunk-based-development"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>Trunk-based development is a
<a href="https://www.atlassian.com/git/tutorials/what-is-version-control">version control management</a> practice where developers
merge small, frequent updates to a  core “trunk” or main branch. It’s a common practice among
<a href="https://www.atlassian.com/devops/what-is-devops">DevOps</a> teams and part of the
<a href="https://www.atlassian.com/devops/what-is-devops/devops-best-practices">DevOps lifecycle</a> since it streamlines merging
and integration phases. In fact, trunk-based development is a required practice of CI/CD. Developers can create
short-lived branches with a few small commits compared to other long-lived feature branching strategies. As codebase
complexity and team size grow, trunk-based development helps keep production releases flowing.</p></section><section><h5 id="gitflow-vs-trunk-based-development">Gitflow vs. Trunk-Based Development<a class="anchor" href="#gitflow-vs-trunk-based-development"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p><a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">Gitflow</a> is an alternative Git branching
model that uses long-lived feature branches and multiple primary branches. Gitflow has more, longer-lived branches and
larger commits than trunk-based development. Under this model, developers create a feature branch and delay merging it
to the main trunk branch until the feature is complete. These long-lived feature branches require more collaboration to
merge as they have a higher risk of deviating from the trunk branch and introducing conflicting updates.</p><p>Gitflow also has separate primary branch lines for development, hotfixes, features, and releases. There are different
strategies for merging commits between these branches. Since there are more branches to juggle and manage, there is
often more complexity that requires additional planning sessions and review from the team.</p><p>Trunk-based development is far more simplified since it focuses on the main branch as the source of fixes and releases.
In trunk-based development the main branch is assumed to always be stable, without issues, and ready to deploy.</p></section><section><h5 id="benefits-of-trunk-based-development">Benefits of Trunk-Based Development<a class="anchor" href="#benefits-of-trunk-based-development"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>Trunk-based development is a required practice for
<a href="https://www.atlassian.com/continuous-delivery/continuous-integration">continuous integration</a>. If build and test
processes are automated but developers work on isolated, lengthy feature branches that are infrequently integrated into
a shared branch, continuous integration is not living up to its potential.</p><p>Trunk-based development eases the friction of code integration. When developers finish new work, they must merge the new
code into the main branch. Yet they should not merge changes to the truck until they have verified that they can build
successfully. During this phase, conflicts may arise if modifications have been made since the new work began. In
particular, these conflicts are increasingly complex as development teams grow and the code base scales. This happens
when developers create separate branches that deviate from the source branch and other developers are simultaneously
merging overlapping code. Luckily, the trunk-based development model reduces these conflicts.</p><section><h6 id="allows-continuous-code-integration">Allows Continuous Code Integration<a class="anchor" href="#allows-continuous-code-integration"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p>In the trunk-based development model, there is a repository with a steady stream of commits flowing into the main
branch. Adding an automated test suite and code coverage monitoring for this stream of commits enables continuous
integration. When new code is merged into the trunk, automated integration and code coverage tests run to validate the
code quality.</p></section><section><h6 id="ensures-continuous-code-review">Ensures Continuous Code Review<a class="anchor" href="#ensures-continuous-code-review"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p>The rapid, small commits of trunk-based development make code review a more efficient process. With small branches,
developers can quickly see and review small changes. This is far easier compared to a long-lived feature branch where a
reviewer reads pages of code or manually inspects a large surface area of code changes.</p></section><section><h6 id="enables-consecutive-production-code-releases">Enables Consecutive Production Code Releases<a class="anchor" href="#enables-consecutive-production-code-releases"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p>Teams should make frequent, daily merges to the main branch. Trunk-based development strives to keep the trunk branch
“green”, meaning it’s ready to deploy at any commit. Automated tests, code converge, and code reviews provides a
trunk-based development project with the assurances it’s ready to deploy to production at any time. This gives team
agility to frequently deploy to production and set further goals of daily production releases.</p><blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>As CI/CD grew in popularity, branching models were refined and optimized, leading to the rise of trunk-based
development. Now, trunk-based development is a requirement of continuous integration. With continuous integration,
developers perform trunk-based development in conjunction with automated tests that run after each committee to a
trunk. This ensures the project works at all times.</p></blockquote></section></section><section><h5 id="trunk-based-development-best-practices">Trunk-Based Development Best Practices<a class="anchor" href="#trunk-based-development-best-practices"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>Trunk-based development ensures teams release code quickly and consistently. The following is a list of exercises and
practices that will help refine your team’s cadence and develop an optimized release schedule.</p><section><h6 id="develop-in-small-batches">Develop in Small Batches<a class="anchor" href="#develop-in-small-batches"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p>Trunk-based development follows a quick rhythm to deliver code to production. If trunk-based development was like music
it would be a rapid staccato — short, succinct notes in rapid succession, with the repository commits being the notes.
<strong>Keeping commits and branches small</strong> allows for a more rapid tempo of merges and deployments.</p><p>Small changes of a couple of commits or modification of a few lines of code minimize cognitive overhead. It’s much
easier for teams to have meaningful conversations and make quick decisions when reviewing a limited area of code versus
a sprawling set of changes.</p></section><section><h6 id="feature-flags">Feature Flags<a class="anchor" href="#feature-flags"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p>Feature flags nicely compliment trunk-based development by enabling developers to wrap new changes in an inactive code
path and activate it at a later time. This allows developers to forgo creating a separate repository feature branch and
instead commit new feature code directly to the main branch within a feature flag path.</p></section><section><h6 id="implement-comprehensive-automated-testing">Implement Comprehensive Automated Testing<a class="anchor" href="#implement-comprehensive-automated-testing"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p><strong>Automated testing is necessary for any modern software project intending to achieve CI/CD</strong>. There are multiple types
of automated tests that run at different stages of the release pipeline. Short running unit and integration tests are
executed during development and upon code merge. Longer running, full stack, end-to-end tests are run in later pipeline
phases against a full staging or production environment.</p><p>Automated tests help trunk-based development by maintaining a small batch rhythm as developers merge new commits. The
automated test suite reviews the code for any issues and automatically approves or denies it. This helps developers
rapidly create commits and run them through automated tests to see if they introduce any new issues.</p></section><section><h6 id="perform-asynchronous-code-reviews">Perform Asynchronous Code Reviews<a class="anchor" href="#perform-asynchronous-code-reviews"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p>In trunk-based development, code review should be performed immediately and not put into an asynchronous system for
later review. Automated tests provide a layer of preemptive code review. When developers are ready to review a team
member’s pull request, they can first check that the automated tests passed and the code coverage has increased. This
gives the reviewer immediate reassurance that the new code meets certain specifications. The reviewer can then focus on
optimizations.</p></section><section><h6 id="have-three-or-fewer-active-branches-in-the-applications-code-repository">Have Three or Fewer Active Branches in the Application’s Code Repository<a class="anchor" href="#have-three-or-fewer-active-branches-in-the-applications-code-repository"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p>Once a branch merges, it is best practice to delete it. <strong>A repository with a large amount of active branches has some
unfortunate side effects</strong>. While it can be beneficial for teams to see what work is in progress by examining active
branches, this benefit is lost if there are stale and inactive branches still around. Some developers use Git user
interfaces that may become unwieldy to work with when loading a large number of remote branches.</p></section><section><h6 id="merge-branches-to-the-trunk-at-least-once-a-day">Merge Branches to the Trunk at Least Once a Day<a class="anchor" href="#merge-branches-to-the-trunk-at-least-once-a-day"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p>High-performing, trunk-based development teams should close out and merge any open and merge-ready branches at least on
a daily basis. This exercise helps keep rhythm and sets a cadence for release tracking. The team can then tag the main
trunk at the end of day as a release commit, which has the helpful side effect of generating a daily agile release
increment.</p></section><section><h6 id="reduced-number-of-code-freezes-and-integration-phases">Reduced Number of Code Freezes and Integration Phases<a class="anchor" href="#reduced-number-of-code-freezes-and-integration-phases"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p><strong>Agile CI/CD teams shouldn’t need planned code freezes or pauses for integration phases</strong> — although an organization
may need them for other reasons. The “continuous” in CI/CD implies that updates are constantly flowing. Trunk-based
development teams should try to avoid blocking code freezes and plan accordingly to ensure the release pipeline is not
stalled.</p></section><section><h6 id="build-fast-and-execute-immediately">Build Fast and Execute Immediately<a class="anchor" href="#build-fast-and-execute-immediately"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p>In order to maintain a quick release cadence, build and test execution times should be optimized. CI/CD build tools
should use caching layers where appropriate to avoid expensive computations for static. <strong>Tests should be optimized to
use appropriate stubs for third-party services</strong>.</p></section></section></section></section></section>
<section><h2 id="github-action">GitHub Action<a class="anchor" href="#github-action"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><section><h3 id="why-should-we-pin-our-github-actions-by-commit-hash">Why Should We Pin Our GitHub Actions by commit-hash<a class="anchor" href="#why-should-we-pin-our-github-actions-by-commit-hash"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>Supply chain attacks are not something new; we have heard about them extensively, and the maximum we can do is mitigate
them as best as we can. However, it is crucial to acknowledge that these types of attacks will always exist. With that
in mind, it is important to understand all the attack vectors and take the necessary steps to secure our environment.</p><p>One of the initiatives planned by the Node.js Security WG (Working Group) for 2023 is to enhance the OSSF Scorecard.
This task requires changing all Node.js actions to be pinned by commit-hash. The reason for this approach is quite
simple: commit-hash provides immutability, unlike tags which do not.</p><p>For instance, it is quite common to include the following action as part of our application’s CI pipeline:</p><div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.vdvyh.css"><script type="module" src="/_astro/ec.g1fg5.js"></script><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:35ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">build</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Build, push</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">steps</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">    </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Checkout master</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">actions/checkout@v3.5.2</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>Many developers rely on tools like Dependabot or Renovatebot to ensure that these actions stay up-to-date. However,
using the release tag can pose a risk to our environment.</p><section><h4 id="looking-at-a-scenario-where-a-malicious-actor-gets-control">Looking at a Scenario Where a Malicious Actor Gets Control<a class="anchor" href="#looking-at-a-scenario-where-a-malicious-actor-gets-control"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Let’s consider a scenario where a malicious actor gains control over the <code>actions/checkout</code> package. This compromised
package can now potentially manipulate the entire CI process. It can access environment variables used by other jobs,
write to a shared directory that subsequent jobs process, make remote calls, inject malicious code into the production
binary, and perform other malicious activities</p><p>What many developers assume is that once they pin an action using a release tag, such as v3.5.2, they are safe because
any new changes would require a new release. However, this assumption is fundamentally incorrect. Release tags are
<strong>mutable</strong>, and a malicious actor can override them. To illustrate this point, I have created two repositories for
educational purposes:</p><ol>
<li><a href="https://github.com/RafaelGSS/bad-action">bad-action</a> - This repository contains a GitHub action that simulates
someone taking over the package.</li>
<li><a href="https://github.com/RafaelGSS/using-bad-action">using-bad-action</a> - This repository demonstrates a project that
utilizes the aforementioned action, as the name suggests.</li>
</ol><p>In the <code>.github/workflows/main.yml</code> file of the latter repository, the <code>bad-action</code> is being used in version v1.0.1:</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:41ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#A54107;--1:#A54107">on</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">workflow_dispatch</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">example_job</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">steps</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">RafaelGSS/bad-action@v1.0.1</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>For this practical example, <code>workflow_dispatch</code> will be used, but the same applies to <code>on: [push, pull_request]</code>
processes and so on.</p><p>As a result, when the action is executed, it prints “Hello world” in the console.</p><p><img  loading="lazy" decoding="async" fetchpriority="auto" width="1851" height="451" src="/_astro/1.ztsOS8Z0_Z1Btt9r.webp" ></p><p>Now, let’s consider the scenario where a bad actor takes over the repository and modifies the “Hello world” message to
“Hello darkness my old friend” without creating a new release. Instead, the actor overrides the existing v1.0.1 release
using the following commands:</p><div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="shell" class="wrap" style="--ecMaxLine:53ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#C00E34;--0fs:italic;--1:#C00E34;--1fs:italic">echo</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">"echo </span><span style="--0:#8D477A;--1:#8D477A">\"</span><span style="--0:#2C6E1E;--1:#2C6E1E">Hello darkness my old friend</span><span style="--0:#8D477A;--1:#8D477A">\"</span><span style="--0:#2C6E1E;--1:#2C6E1E">"</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">run.sh</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">git</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">add</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">run.sh</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">git</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">commit</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">-m</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">"dangerous commit"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">git</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">push</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">origin</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">:refs/tags/v1.0.1</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">git</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">tag</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">-fa</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">v1.0.1</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">git</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">push</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">origin</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">main</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">--tags</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>Consequently, if the action is executed again without any changes made to the source code, it will print “Hello darkness
my old friend”. This demonstrates how our environment can be exploited by manipulating release tags.</p><p><img  loading="lazy" decoding="async" fetchpriority="auto" width="2142" height="305" src="/_astro/2.BQ_mE9AO_Z2sqJ6W.webp" ></p></section><section><h4 id="solution">Solution<a class="anchor" href="#solution"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Pinning an action to a full-length commit SHA is currently the only method to ensure the use of an action as an
immutable release.</p><blockquote class="admonition bdm-note"><span class="bdm-title"><div>Quoting the OSSF Scorecard</div></span><p>Pinned dependencies help reduce various security risks:</p><ul>
<li>They guarantee that checking and deployment are performed with the same software, minimizing deployment risks,
simplifying debugging, and enabling reproducibility.</li>
<li>They can help mitigate compromised dependencies from compromising the project’s security. By evaluating the pinned
dependency and being confident that it is not compromised, we can prevent the use of a later version that may be
compromised.</li>
<li>Pinned dependencies are a way to counter dependency confusion (or substitution) attacks. In these attacks, an
application uses multiple feeds to acquire software packages (a “hybrid configuration”), and attackers trick the user
into using a malicious package from an unexpected feed.</li>
</ul></blockquote><p>With that in mind, fixing or securing the action is a straightforward process:</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:85ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#A54107;--1:#A54107">on</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">workflow_dispatch</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">example_job</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">steps</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">RafaelGSS/bad-action@e20fd1d81b3f403df56f5f06e2aa9653a6a60763</span><span style="--0:#4C4F69;--1:#4C4F69">  </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># v1.0.1</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>Adding a comment referring to the tag enables automated dependency updates, such as Dependabot or Renovatebot, to update it whenever a new release is detected. <a href="https://github.com/nodejs/security-wg/pull/1009">We can see an example of this in action in the Node.js Security WG repository</a>.</p><p><img  loading="lazy" decoding="async" fetchpriority="auto" width="805" height="237" src="/_astro/3.Cbd_8Aq3_Z22GzMD.webp" ></p><p>There are open-source tools like <a href="https://www.stepsecurity.io/">StepSecurity</a> that can assist us in addressing these
concerns. It generates automated pull requests for our codebase based on the configuration specified on their website.</p></section></section><section><h3 id="using-a-github-action-matrix-to-define-variations-for-each-job">Using a GitHub Action Matrix to Define Variations for Each Job<a class="anchor" href="#using-a-github-action-matrix-to-define-variations-for-each-job"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>A matrix strategy lets you use variables in a single job definition to automatically create multiple job runs that are
based on the combinations of the variables. For example, you can use a matrix strategy to test your code in multiple
versions of a language or on multiple operating systems.</p><section><h4 id="using-a-matrix-strategy">Using a Matrix Strategy<a class="anchor" href="#using-a-matrix-strategy"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Use <code>jobs.&#x3C;job_id>.strategy.matrix</code> to define a matrix of different job configurations. Within your matrix, define one
or more variables followed by an array of values. For example, the following matrix has a variable called <code>version</code> with
the value <code>[10, 12, 14]</code> and a variable called os with the value <code>[ubuntu-latest, windows-latest]</code>:</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:43ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">example_matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">strategy</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#A54107;--1:#A54107">10</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">12</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">14</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">os</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">windows-latest</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>A job will run for each possible combination of the variables. In this example, the workflow will run six jobs, one for
each combination of the <code>os</code> and <code>version</code> variables.</p><p>By default, GitHub will maximize the number of jobs run in parallel depending on runner availability. The <strong>order of the
variables in the matrix determines the order in which the jobs are created</strong>. The first variable you define will be the
first job that is created in your workflow run. For example, the above matrix will create the jobs in the following
order:</p><ul>
<li><code>{version: 10, os: ubuntu-latest}</code></li>
<li><code>{version: 10, os: windows-latest}</code></li>
<li><code>{version: 12, os: ubuntu-latest}</code></li>
<li><code>{version: 12, os: windows-latest}</code></li>
<li><code>{version: 14, os: ubuntu-latest}</code></li>
<li><code>{version: 14, os: windows-latest}</code></li>
</ul><p>A matrix will generate a maximum of <strong>256</strong> jobs per workflow run. This limit applies to both GitHub-hosted and
self-hosted runners.</p><p>The variables that you define become properties in the matrix context, and you can reference the property in other areas
of your workflow file. In this example, you can use <code>matrix.version</code> and <code>matrix.os</code> to access the current value of
version and os that the job is using. For more information, see “<a href="https://docs.github.com/en/actions/learn-github-actions/contexts">Contexts</a>.”</p></section><section><h4 id="example-using-a-single-dimension-matrix">Example: Using a Single-Dimension Matrix<a class="anchor" href="#example-using-a-single-dimension-matrix"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>You can specify a single variable to create a single-dimension matrix.</p><p>For example, the following workflow defines the variable version with the values <code>[10, 12, 14]</code>. The workflow will run
three jobs, one for each value in the variable. Each job will access the version value through the <code>matrix.version</code>
context and pass the value as <code>node-version</code> to the actions/setup-node action.</p></section><section><h4 id="example-using-a-multi-dimension-matrix">Example: Using a Multi-dimension Matrix<a class="anchor" href="#example-using-a-multi-dimension-matrix"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>You can specify multiple variables to create a multi-dimensional matrix. A job will run for each possible combination of
the variables.</p><p>For example, the following workflow specifies two variables:</p><ul>
<li>Two operating systems specified in the <code>os</code> variable</li>
<li>Three Node.js versions specified in the <code>version</code> variable</li>
</ul><p>The workflow will run six jobs, one for each combination of the <code>os</code> and <code>version</code> variables. Each job will set the
<code>runs-on</code> value to the current <code>os</code> value and will pass the current version value to the <code>actions/setup-node</code> action.</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:83ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">example_matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">strategy</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">os</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-22.04</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-20.04</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#A54107;--1:#A54107">10</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">12</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">14</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ matrix.os }}</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">steps</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020</span><span style="--0:#4C4F69;--1:#4C4F69">  </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># v4.4.0</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">with</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">node-version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ matrix.version }}</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div></section><section><h4 id="example-using-contexts-to-create-matrices">Example: Using Contexts to Create Matrices<a class="anchor" href="#example-using-contexts-to-create-matrices"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>You can use contexts to create matrices. For more information about contexts, see “<a href="https://docs.github.com/en/actions/learn-github-actions/contexts">Contexts</a>.”</p><p>For example, the following workflow triggers on the <code>repository_dispatch</code> event and uses information from the event
payload to build the matrix. When a repository dispatch event is created with a payload like the one below, the matrix
<code>version</code> variable will have a value of <code>[12, 14, 16]</code>. For more information about the <code>repository_dispatch</code> trigger,
see “<a href="https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#repository_dispatch">Events that trigger workflows</a>.”</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="json" class="wrap" style="--ecMaxLine:32ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5D5F6E;--1:#5D5F6E">{</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">    </span><span style="--0:#5D5F6E;--1:#5D5F6E">"</span><span style="--0:#1A57D1;--1:#1A57D1">event_type</span><span style="--0:#5D5F6E;--1:#5D5F6E">"</span><span style="--0:#5D5F6E;--1:#5D5F6E">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">"test"</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#5D5F6E;--1:#5D5F6E">"</span><span style="--0:#1A57D1;--1:#1A57D1">client_payload</span><span style="--0:#5D5F6E;--1:#5D5F6E">"</span><span style="--0:#5D5F6E;--1:#5D5F6E">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">{</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">        </span><span style="--0:#5D5F6E;--1:#5D5F6E">"</span><span style="--0:#1A57D1;--1:#1A57D1">versions</span><span style="--0:#5D5F6E;--1:#5D5F6E">"</span><span style="--0:#5D5F6E;--1:#5D5F6E">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#A54107;--1:#A54107">12</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">14</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">16</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#5D5F6E;--1:#5D5F6E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#5D5F6E;--1:#5D5F6E">}</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:83ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#A54107;--1:#A54107">on</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">repository_dispatch</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">types</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">test</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">example_matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">strategy</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ github.event.client_payload.versions }}</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">steps</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020</span><span style="--0:#4C4F69;--1:#4C4F69">  </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># v4.4.0</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">with</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">node-version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ matrix.version }}</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div></section><section><h4 id="expanding-or-adding-matrix-configurations">Expanding or adding matrix configurations<a class="anchor" href="#expanding-or-adding-matrix-configurations"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Use <code>jobs.&#x3C;job_id>.strategy.matrix.include</code> to expand existing matrix configurations or to add new configurations. The
value of include is a list of objects.</p><p>For each object in the <code>include</code> list, the key<value></value> pairs in the object will be added to each of the matrix
combinations if none of the key<value></value> pairs overwrite any of the original matrix values. If the object cannot be added
to any of the matrix combinations, a new matrix combination will be created instead. Note that the original matrix
values will not be overwritten, but added matrix values can be overwritten.</p><p>For example, this matrix:</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:24ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">strategy</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">fruit</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">apple</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">pear</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">animal</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">cat</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">dog</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">include</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">color</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">green</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">color</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">pink</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">animal</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">cat</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">fruit</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">apple</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">shape</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">circle</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">fruit</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">banana</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">fruit</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">banana</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">animal</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">cat</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>will result in six jobs with the following matrix combinations:</p><ul>
<li><code>{fruit: apple, animal: cat, color: pink, shape: circle}</code></li>
<li><code>{fruit: apple, animal: dog, color: green, shape: circle}</code></li>
<li><code>{fruit: pear, animal: cat, color: pink}</code></li>
<li><code>{fruit: pear, animal: dog, color: green}</code></li>
<li><code>{fruit: banana}</code></li>
<li><code>{fruit: banana, animal: cat}</code></li>
</ul><p>following this logic:</p><ul>
<li><code>{color: green}</code> is added to all of the original matrix combinations because it can be added without overwriting any
part of the original combinations.</li>
<li><code>{color: pink, animal: cat}</code> adds <code>color:pink</code> only to the original matrix combinations that include <code>animal: cat</code>.
This overwrites the color: green that was added by the previous include entry.</li>
<li><code>{fruit: apple, shape: circle}</code> adds shape: circle only to the original matrix combinations that include
<code>fruit: apple</code>.</li>
<li><code>{fruit: banana}</code> cannot be added to any original matrix combination without overwriting a value, so it is added as an
additional matrix combination.</li>
<li><code>{fruit: banana, animal: cat}</code> cannot be added to any original matrix combination without overwriting a value, so it
is added as an additional matrix combination. It does not add to the <code>{fruit: banana}</code> matrix combination because that
combination was not one of the original matrix combinations.</li>
</ul><p>This looks like kinda “what’re we doing here???”. But let us just look at the following examples which make it more
clear.</p><p>The following workflow will run six jobs, one for each combination of <code>os</code> and node. When the job for the os value of
<code>windows-latest</code> and node value of <code>16</code> runs, an additional variable called <code>npm</code> with the value of <code>6</code> will be included
in the job.</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:83ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">example_matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">strategy</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">os</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">windows-latest</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">node</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#A54107;--1:#A54107">12</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">14</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">16</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">include</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">          </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">os</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">windows-latest</span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">            </span><span style="--0:#1A57D1;--1:#1A57D1">node</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">16</span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">            </span><span style="--0:#1A57D1;--1:#1A57D1">npm</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">6</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ matrix.os }}</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">steps</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020</span><span style="--0:#4C4F69;--1:#4C4F69">  </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># v4.4.0</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">with</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">node-version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ matrix.node }}</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">if</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ matrix.npm }}</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">run</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">npm install -g npm@${{ matrix.npm }}</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">run</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">npm --version</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>This matrix will run 10 jobs, one for each combination of <code>os</code> and <code>version</code> in the matrix, plus a job for the <code>os</code>
value of <code>windows-latest</code> and version value of <code>17</code>.</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:57ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">example_matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">strategy</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">os</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">macos-latest</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">windows-latest</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#A54107;--1:#A54107">12</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">14</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">16</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">include</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">          </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">os</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">windows-latest</span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">            </span><span style="--0:#1A57D1;--1:#1A57D1">version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">17</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>If you don’t specify any matrix variables, all configurations under <code>include</code> will run. For example, the following
workflow would run two jobs, one for each <code>include</code> entry. This lets you take advantage of the matrix strategy without
having a fully populated matrix.</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:32ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">includes_only</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">strategy</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">include</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">          </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">site</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">"production"</span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">            </span><span style="--0:#1A57D1;--1:#1A57D1">datacenter</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">"site-a"</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">          </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">site</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">"staging"</span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">            </span><span style="--0:#1A57D1;--1:#1A57D1">datacenter</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">"site-b"</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div></section><section><h4 id="excluding-matrix-configurations">Excluding Matrix Configurations<a class="anchor" href="#excluding-matrix-configurations"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>To remove specific configurations defined in the matrix, use <code>jobs.&#x3C;job_id>.strategy.matrix.exclude</code>. An excluded
configuration only has to be a partial match for it to be excluded. For example, the following workflow will run nine
jobs: one job for each of the 12 configurations, minus the one excluded job that matches
<code>{os: macos-latest, version: 12, environment: production}</code>, and the two excluded jobs that match
<code>{os: windows-latest, version: 16}</code>.</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:38ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">strategy</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">os</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">macos-latest</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">windows-latest</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#A54107;--1:#A54107">12</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">14</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">16</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">environment</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">staging</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">production</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">exclude</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">os</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">macos-latest</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">12</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">environment</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">production</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">os</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">windows-latest</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">16</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ matrix.os }}</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><blockquote>
<p>Note: All <code>include</code> combinations are processed after <code>exclude</code>. This allows you to use <code>include</code> to add back
combinations that were previously excluded.</p>
</blockquote></section><section><h4 id="handling-failures">Handling Failures<a class="anchor" href="#handling-failures"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>You can control how job failures are handled with <code>jobs.&#x3C;job_id>.strategy.fail-fast</code> and
<code>jobs.&#x3C;job_id>.continue-on-error</code>.</p><p><code>jobs.&#x3C;job_id>.strategy.fail-fast</code> applies to the entire matrix. If <code>jobs.&#x3C;job_id>.strategy.fail-fast</code> is set to <code>true</code>,
GitHub will cancel all in-progress and queued jobs in the matrix if any job in the matrix fails. This property defaults
to <code>true</code>.</p><p><code>jobs.&#x3C;job_id>.continue-on-error</code> applies to a single job. If <code>jobs.&#x3C;job_id>.continue-on-error</code> is <code>true</code>, other jobs in
the matrix will continue running even if the job with <code>jobs.&#x3C;job_id>.continue-on-error: true</code> fails.</p><p>You can use <code>jobs.&#x3C;job_id>.strategy.fail-fast</code> and <code>jobs.&#x3C;job_id>.continue-on-error</code> together. For example, the
following workflow will start four jobs. For each job, continue-on-error is determined by the value of
<code>matrix.experimental</code>. If any of the jobs with <code>continue-on-error: false</code> fail, all jobs that are in progress or queued
will be cancelled. If the job with <code>continue-on-error: true</code> fails, the other jobs will not be affected.</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:49ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">test</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">continue-on-error</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ matrix.experimental }}</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">strategy</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">fail-fast</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">true</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#A54107;--1:#A54107">6</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">7</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">8</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">experimental</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#A54107;--1:#A54107">false</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">include</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">          </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">9</span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">            </span><span style="--0:#1A57D1;--1:#1A57D1">experimental</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">true</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div></section><section><h4 id="configuring-the-maximum-number-of-concurrent-jobs">Configuring the Maximum Number of Concurrent Jobs<a class="anchor" href="#configuring-the-maximum-number-of-concurrent-jobs"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>By default, GitHub will maximize the number of jobs run in parallel depending on runner availability. To set the maximum
number of jobs that can run simultaneously when using a <code>matrix</code> job strategy, use
<code>jobs.&#x3C;job_id>.strategy.max-parallel</code>.</p><p>For example, the following workflow will run a maximum of two jobs at a time, even if there are runners available to run
all six jobs at once.</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:43ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">example_matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">strategy</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">max-parallel</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">2</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">matrix</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#A54107;--1:#A54107">10</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">12</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">14</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">os</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">windows-latest</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div></section></section><section><h3 id="build-and-push-docker-images-through-github-action">Build and Push Docker Images through GitHub Action<a class="anchor" href="#build-and-push-docker-images-through-github-action"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>On every push to GitHub, <a href="https://github.com/marketplace/actions/build-and-push-docker-images">GitHub Action</a> can
auto-trigger the docker image build and push to <a href="https://hub.docker.com">Docker Hub</a>. We will be able to see that each
push results in a usable image, which enhances the quality of a docker image a lot.</p><section><h4 id="generate-docker-hub-access-token">Generate Docker Hub Access Token<a class="anchor" href="#generate-docker-hub-access-token"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Before we start, ensure you can access <a href="https://hub.docker.com/">Docker Hub</a> from any workflows you create. To do this:</p><ol>
<li>Add your Docker ID as a secret to GitHub. Navigate to your GitHub repository and click <strong>Settings</strong> > <strong>Secrets</strong> >
<strong>New secret</strong>.</li>
<li>Create a new secret with the name DOCKERHUB_USERNAME and your Docker ID as value.</li>
<li>Create a new Personal Access Token (PAT). To create a new token, go to Docker Hub Settings at
<code>https://hub.docker.com/settings/security</code> and then click <strong>New Access Token</strong>.</li>
</ol></section><section><h4 id="define-ci-workflow-on-github">Define CI Workflow on GitHub<a class="anchor" href="#define-ci-workflow-on-github"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p><code>git checkout</code> the branch that contains the docker image definition, i.e. Dockerfile, and add a new YAML file to the
following path</p><div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash" class="wrap" style="--ecMaxLine:51ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">&#x3C;github-repo>/.github/workflows/&#x3C;workflow-name>.yml</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>The YAML file should contain the following workflow definition:</p><blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>Change the <code>&#x3C;branch-name></code> and <code>&#x3C;docker-image-name></code> below accordingly.</p></blockquote><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:81ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># Builds and pushes XXX image to Docker Hub</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ci</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#A54107;--1:#A54107">on</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">push</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">branches</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">'&#x3C;branch-name>'</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">docker</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">steps</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Checkout</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683</span><span style="--0:#4C4F69;--1:#4C4F69">  </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># v4.2.2</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Set up QEMU</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">docker/setup-qemu-action@v2</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Set up Docker Buildx</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">docker/setup-buildx-action@v2</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Login to DockerHub</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">25</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">docker/login-action@v2</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">26</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">with</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">27</div></div><div class="code"><span class="indent">          </span><span style="--0:#5D5F6E;--1:#5D5F6E">{</span><span style="--0:#4C4F69;--1:#4C4F69">% </span><span style="--0:#2C6E1E;--1:#2C6E1E">raw %</span><span style="--0:#5D5F6E;--1:#5D5F6E">}</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">28</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">username</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ secrets.DOCKERHUB_USERNAME }}</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">29</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">password</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ secrets.DOCKERHUB_TOKEN }}</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">30</div></div><div class="code"><span class="indent">          </span><span style="--0:#5D5F6E;--1:#5D5F6E">{</span><span style="--0:#4C4F69;--1:#4C4F69">% </span><span style="--0:#2C6E1E;--1:#2C6E1E">endraw %</span><span style="--0:#5D5F6E;--1:#5D5F6E">}</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">31</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">32</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Build and push</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">33</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">docker/build-push-action@v3</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">34</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">with</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">35</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">context</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">.</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">36</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">push</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">true</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">37</div></div><div class="code"><span class="indent">          </span><span style="--0:#5D5F6E;--1:#5D5F6E">{</span><span style="--0:#4C4F69;--1:#4C4F69">% </span><span style="--0:#2C6E1E;--1:#2C6E1E">raw %</span><span style="--0:#5D5F6E;--1:#5D5F6E">}</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">38</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">tags</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ secrets.DOCKERHUB_USERNAME }}/&#x3C;docker-image-name>:latest</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">39</div></div><div class="code"><span class="indent">          </span><span style="--0:#5D5F6E;--1:#5D5F6E">{</span><span style="--0:#4C4F69;--1:#4C4F69">% </span><span style="--0:#2C6E1E;--1:#2C6E1E">endraw %</span><span style="--0:#5D5F6E;--1:#5D5F6E">}</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>Push the YAML file onto GitHub. Every push to that branch afterwards will trigger the image build and push.</p></section><section><h4 id="build-status-badge">Build Status Badge<a class="anchor" href="#build-status-badge"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>To generate real-time badge on image build status, we could use an
<a href="https://docs.github.com/en/actions/monitoring-and-troubleshooting-workflows/adding-a-workflow-status-badge">approach</a>
that GitHub supports out-of-the-box.</p></section></section></section>
<section><h2 id="software-artifactory-with-nexus-3-repository-manager-oss">Software Artifactory with Nexus 3 Repository Manager OSS<a class="anchor" href="#software-artifactory-with-nexus-3-repository-manager-oss"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p>The proliferation of different repository formats and tools accessing them as well as the emergence of more publicly
available repositories has triggered the need to manage access and usage of these repositories and the components they
contain.</p><p>Hosting our private repositories for internal components has proven to be a very efficient methodology to exchange
components during all phases of the software development lifecycle. It is considered a best practice at this stage.</p><p>The task of managing all the repositories a development teams interact with can be supported by the use of a dedicated
server application - a <strong>repository manager</strong>. To put it simply, a repository manager provides two core features:</p><ol>
<li><strong>the ability of proxying a remote repository and cache components saving both bandwidth and time required to
retrieve a software component from a remote repository repeatedly</strong></li>
<li><strong>the ability of hosting a repository providing an organization with a deployment target for internal software
components</strong></li>
</ol><p>Just as Source Code Management (SCM) tools are designed to manage source code, repository managers have been designed to
manage and trace external dependencies and components generated by internal build.</p><p>Repository managers are an essential part of any enterprise or open-source software development effort and they enable
greater collaboration between developers and wider distribution of software by facilitating the exchange and usage of
binary components.</p><p>When we install a repository manager, we are bringing the power of a repository like the Central Repository into our
organization. We can use it to proxy the Central Repositories and other repositories, and host our own repositories for
internal and external use.</p><p>In addition to the two aforementioned core features, a repository manager can support the following use cases</p><ul>
<li>allows us to manage binary software components through the software development lifecycle</li>
<li>search and catalogue software components</li>
<li>control component releases with rules and add automated notifications</li>
<li>integrate with external security systems, such as LDAP</li>
<li>manage component metadata</li>
<li>control access to components and repositories</li>
<li>display component dependencies</li>
<li>brose component archive contents</li>
</ul><p>Using a repository manager provides a number of benefits, including</p><ul>
<li>improved software build performance due to faster component download off the local repository manager</li>
<li>reduced bandwidth usage due to component caching</li>
<li>higher predictability and scalability due to limited dependency on external repositories</li>
<li>increased understanding of component usage due to centralized storage of all used components</li>
<li>simplified developer configuration due to central access configuration to remote repositories and components on the
repository manager</li>
<li>unified method to provide components to consumer reducing complexity overheads</li>
<li>improved collaboration due to the simplified exchange of binary components</li>
</ul><!--truncate--></section>
<section><h2 id="system-requirements">System Requirements<a class="anchor" href="#system-requirements"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><section><h3 id="memory-requirements">Memory Requirements<a class="anchor" href="#memory-requirements"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>The requirements assume there are no other significant memory hungry processes running on the same host.</p>






















<table><thead><tr><th align="center">____</th><th align="center"><strong>JVM Heap</strong></th><th align="center"><strong>JVM Direct</strong></th><th align="center"><strong>Host Physical/RAM</strong></th></tr></thead><tbody><tr><td align="center">__Minimum ( default ) __</td><td align="center">2703MB</td><td align="center">2703MB</td><td align="center">8GB</td></tr><tr><td align="center"><strong>Maximum</strong></td><td align="center">4GB</td><td align="center">(host physical/RAM * 2/3) - JVM max heap</td><td align="center">no limit</td></tr></tbody></table></section><section><h3 id="disk-space">Disk Space<a class="anchor" href="#disk-space"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p><strong>Application Directory</strong> - The size of this directory varies slightly each release. It currently around 330 MB. It is
normal to have multiple application directories installed on the same host over time as repository manager is upgraded.</p><p><strong>Data Directory</strong> - On first start, repository manager creates the base files needed to operate. The bulk of disk
space will be held by our deployed and proxied artifacts, as well as any search indexes. This is highly installation
specific, and will be dependent on the repository formats used, the number of artifacts stored, the size of our teams
and projects, etc.  It’s best to plan for a lot though, formats like Docker and Maven can use very large amounts of
storage (500Gb easily).  <strong>When available disk space drops below 4GB the database will switch to read-only mode</strong>.</p></section></section>
<section><h2 id="concepts">Concepts<a class="anchor" href="#concepts"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p>The Nexus Repository Manager OSS is all about working with <strong>components</strong> and <strong>repositories</strong>.</p><section><h3 id="components">Components<a class="anchor" href="#components"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>A component is a resource like a library or a framework that is used as part of a software application at run-time,
integration or unit test execution time or required as part of build process. It could be an entire application or a
static resource like an image.</p><p>Typically these components are archives of a large variety of files, such as Java bytecode in class files, text files,
or binary files such as images, PDFs, and music files. The archives have numerous formats such as JAR, WAR, ZIP, NPM
packages, or .sh</p><p>Components can be composed of multiple, nested components themselves. For example, consider a Java web application
packaged as a WAR component. It contains a number of JAR components and a number of JavaScript libraries. All of these
are standalone components in other contexts and happend to be included as part of the WAR component.</p><p>Components provide all the building blocks and features that allow a development team to create powerful applications
by assembling them and adding their own business related components to create a full-fledged, powerful application.</p><p>Components, in other tool-chains, are called artifacts, packages, bundles, archives, and other terms. The concept and
idea, however, remain the same and component is used as the independent, generic term.</p></section><section><h3 id="repository">Repository<a class="anchor" href="#repository"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>A wide variety of components exists and more are continuously created by the open source community as well as
proprietary vendors. These are libraries and frameworks written in various languages on different platforms that are
used for application development every day. It has become a default pattern to build applications by combining the
features of multiple components with our own custom components containing our application code to create an application
for a specific domain</p><p>In order to ease the consumption and usage of components, they are aggregated into collection of components. These are
called <strong>repositories</strong> and are typically available on the internet as a service. On different platforms terms such as
registry and others are used for the same concept.</p><p>Examples for such repositories are</p><ul>
<li>the Central Repository, also known as Maven Central</li>
<li>the NuGet Gallery</li>
<li>RubyGems.org</li>
<li>npmjs.org</li>
</ul><p>Components in these repositories are accessed by numerous tools including</p><ul>
<li>package managers like npm, nuget or gem</li>
<li>build tools such as Maven, Gradle, rake or grunt</li>
<li>IDE’s such as Eclipse and IntelliJ</li>
</ul></section><section><h3 id="repository-format">Repository Format<a class="anchor" href="#repository-format"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>The different repositories use different technologies to store and expose the components in them to client tools. This
defines a repository format and as such is closely related to the tools interacting with the repository.</p><p>For example, the Maven repository format relies on a specific directory structure defined by the identifiers of the
components and a number of XML formatted files for metadata. Component interaction is performed via plain HTTP commands
and some additional custom interaction with the XML files.</p><p>Other repositories formats use database for storage and REST API interactions, or different directory structures wit
format specific files for the metadata</p></section></section>
<section><h2 id="repository-management">Repository Management<a class="anchor" href="#repository-management"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><p>We’ve seen that repositories are the containers for the components provided to our users. Creating and managing
repositories is an essential part of our Nexus Repository configuration, since it allows us to expose more components
to our users. It supports proxy repositories, hosted repositories and repository groups in a number of different
repository formats.</p><info><p>To manage repositories select the <strong>Repositories</strong> item in the Repository sub menu of the <strong>Administration</strong> menu.</p></info><p>The binary parts of a repository are stored in <strong>blob stores</strong>, which can be configured by selecting Blob Stores from
the Repository sub menu of the Administration menu.</p><section><h3 id="repository-types">Repository Types<a class="anchor" href="#repository-types"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><section><h4 id="proxy-repository">Proxy Repository<a class="anchor" href="#proxy-repository"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p><strong>A repository with the type proxy, also known as a proxy repository, is a repository that is linked to a remote
repository</strong>. Any request for a component is verified against the local content of the proxy repository. If no local
component is found, the request is forwarded to the remote repository. The component is then retrieved and stored
locally in the repository manager, which acts as a cache. Subsequent requests for the same component are then fulfilled
from the local storage, therefore eliminating the network bandwidth and time overhead of retrieving the component from
the remote repository again.</p><p>By default, the repository manager ships with the following configured proxy repositories:</p><ul>
<li><strong>maven-central</strong> This proxy repository accesses the Central Repository, formerly known as Maven Central. It is the
default component repository built into Apache Maven</li>
<li><strong>nuget.org-proxy</strong> This proxy repository accesses the <a href="https://www.nuget.org/">NuGet Gallery</a>. It is the default
component repository used by the <code>nuget</code> package management tool used for .Net development.</li>
</ul></section><section><h4 id="hosted-repository">Hosted Repository<a class="anchor" href="#hosted-repository"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>A repository with the type hosted, also known as a <strong>hosted repository</strong>, is a repository that stores components in the
repository manager as the authoritative location for these components.</p><p>By default, the repository manager ships with the following configured hosted repositories:</p><ul>
<li><strong>maven-releases</strong> This hosted repository uses the maven2 repository format with a release version policy. It is
intended to be the repository where an organization publishes internal releases. We can also use this repository for
third-party components that are not available in external repositories and can therefore not be retrieved via a
configured proxy repository. Examples of these components could be commercial, proprietary libraries such as an
Oracle
JDBC driver that may be referenced by the organization.</li>
<li><strong>maven-snapshots</strong> This hosted repository uses the maven2 repository format with a snapshot version policy. It is
intended to be the repository where the organization publishes internal development versions, also known as
snapshots.</li>
<li><strong>nuget-hosted</strong>  This hosted repository is where the organization can publish internal releases in repository using
the nuget repository format. We can also use this repository for third-party components that are not available in
external repositories, that could potentially be proxied to gain access to the components.</li>
</ul></section><section><h4 id="repository-group">Repository Group<a class="anchor" href="#repository-group"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>A repository with the type group, also known as <strong>repository group</strong>, represents a powerful feature of Nexus Repository
Manager. They allow us to combine multiple repositories and other repository groups in a single repository. This in
turn means that our users can rely on a single URL for their configuration needs, while the administrators can add more
repositories and therefore components to the repository group.</p><blockquote class="admonition bdm-caution"><span class="bdm-title">CAUTION</span><p>When a user is given a privilege to a group repository, then that user will also have that privilege to all transitive
members of that group repository <strong>only when their request is directed to the group repository</strong>. Direct requests to
individual member repositories will only work if the user is given explicit permission to the individual repository.</p></blockquote><p>The repository manager ships with the following groups:</p><ul>
<li><strong>maven-public</strong> The maven-public group is a repository group of maven2 formatted repositories and combines the
important <strong>external proxy repository for the Central Repository</strong> with the hosted repositories <strong>maven-releases</strong>
and maven-snapshots. This allows us to <em>expose the components of the Central Repository as well as our internal
components in one single, simple-to-use repository</em> and therefore URL.</li>
<li><strong>nuget-group</strong> This group combines the nuget formatted repositories nuget-hosted and nuget.org-proxy into a single
repository for .Net development with NuGet.</li>
</ul></section></section><section><h3 id="managing-repositories-and-repository-groups">Managing Repositories and Repository Groups<a class="anchor" href="#managing-repositories-and-repository-groups"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>TBA</p><section><h4 id="setting-up-maven-repositories">Setting Up Maven Repositories<a class="anchor" href="#setting-up-maven-repositories"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Historically Nexus Repository Manager started as a repository manager supporting the Maven repository format and it
continues to include excellent support for users of Apache Maven.</p></section></section><section><h3 id="maven-repository-format-overview">Maven Repository Format Overview<a class="anchor" href="#maven-repository-format-overview"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><blockquote>
<p>Looking at the Maven repository format and associated concepts and ideas allows us to grasp some of the details and
intricacies involved with different tools and repository formats, that will help us appreciate the need for
repository management.</p>
</blockquote><p>Maven developers are familiar with the concept of a repository, since repositories are used by default. The primary
type of a binary component in a Maven format repository is a JAR file containing Java byte-code. This is due to the
Java background of Maven and the fact that the default component type is a JAR. Practically however, there is no limit
to what type of component can be stored in a Maven repository. For example, we can easily deploy WAR or EAR files,
source archives, Flash libraries and applications, Android archives or applications or Ruby libraries to a Maven
repository.</p><p>Every software component is described by an XML document called a Project Object Model (POM). This POM contains
information that describes a project and lists a project’s dependencies - the binary software components, which a given
component depends upon for successful compilation or execution.</p><p>When Maven downloads a component like a dependency or a plugin from a repository, it also downloads that component’s
POM. <em>Given a component’s POM, Maven can then download any other components that are required by that component</em>.</p><p>Maven, which interacts with a Maven repository to search for binary software components, model the projects they manage
and retrieve software components on-demand from a repository.</p><section><h4 id="the-central-repository">The Central Repository<a class="anchor" href="#the-central-repository"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>When we download and install Maven without any customization, it retrieves components from the Central Repository. It
serves millions of Maven users every single day. It is the default, built-in repository using the Maven repository
format and is <em>managed by Sonatype</em>. We can also view statistics about the size of the Central Repository
<a href="https://search.maven.org/stats">online</a>.</p><p>The Central Repository is the largest repository for Java-based components. It can be easily used from other build
tools as well. One can look at the Central Repository as an example of how Maven repositories operate and how they are
assembled. Here are some of the properties of release repositories such as the Central Repository:</p><ul>
<li><strong>Component Metadata</strong> All software components added to the Central Repository require proper metadata, including a
Project Object Model (POM) for each component that describes the component itself and any dependencies that software
component might have.</li>
<li><strong>Release Stability</strong> Once published to the Central Repository, a component and the metadata describing that
component never change. This property of a release repository, like the Central Repository,  guarantees that
projects that depend on releases will be repeatable and stable over time. While new software components are being
published every day, once a component is assigned a release number on the Central Repository, there is a strict
policy against modifying the contents of a software component after a release.</li>
<li><strong>Component Security</strong> The Central Repository contains cryptographic hashes and PGP signatures that can be used to
verify the authenticity and integrity of software components served and supports connections in a secure manner via
<strong>HTTPS</strong>.</li>
<li><strong>Performance</strong> The Central Repository is exposed to the users globally via a high performance content delivery
network of servers.</li>
</ul><p>In addition to the Central Repository, there are a number of major organizations, such as Red Hat, Oracle or the Apache
Software foundation, which maintain separate additional repositories. Best practice to facilitate these available
repositories with Nexus Repository Manager OSS is to proxy and cache the contents on our own network.</p></section><section><h4 id="component-coordinates-and-the-repository-format">Component Coordinates and the Repository Format<a class="anchor" href="#component-coordinates-and-the-repository-format"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Component coordinates create a unique identifier for a component. Maven coordinates use the following values: groupId,
artifactId, version, and packaging. This set of coordinates is often referred to as a <strong>GAV coordinate</strong>, which is
short for Group, Artifact, Version coordinate. The GAV coordinate standard is the foundation for Maven’s ability to
manage dependencies. Four elements of this coordinate system are described below:</p><ul>
<li><strong>groupId</strong> A group identifier groups a set of components into a logical group. Groups are often designed to reflect
the <strong>organization</strong> under which a particular software component is being produced. For example, software components
produced by the Maven project at the Apache Software Foundation are available under the groupId “org.apache.maven”</li>
<li><strong>artifactId</strong> An artifactId is an identifier for a software component and should be a descriptive name. The
combination of groupId and artifactId must be unique for a specific project.</li>
<li><strong>version</strong> The version of a project ideally follows the established convention of
<a href="http://semver.org/"><strong>semantic versioning</strong></a>. For example, if our simple-library component has a major release
version of 1, a minor release version of 2 and point release version of 3, the version would be 1.2.3. Versions can
also have <strong>alphanumeric qualifiers</strong> which are often used to denote release status. An example of such a qualifier
would be a version like “1.2.3-BETA” where BETA signals a stage of testing meaningful to consumers of a software
component.</li>
<li><strong>packaging</strong> Maven was initially created to handle JAR files, but a Maven repository is completely agnostic about
the type of component it is managing. Packaging can be anything that describes any binary software format including:
zip, nar, war, ear, sar and aar.</li>
</ul><p>Tools designed to interact Maven repositories translate component coordinates into a URL which corresponds to a
location in a Maven repository. If a tool such as Maven is looking for version “1.2.0” of the “commons-lang” JAR in
the group “org.apache.commons”, this request is translated into:</p><div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash" class="wrap" style="--ecMaxLine:70ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">&#x3C;repoURL>/org/apache/commons/commons-lang/1.2.0/commons-lang-1.2.0.jar</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>Maven also downloads the corresponding POM for “commons-lang 1.2.0” from:</p><div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash" class="wrap" style="--ecMaxLine:70ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">&#x3C;repoURL>/org/apache/commons/commons-lang/1.2.0/commons-lang-1.2.0.pom</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>This POM may contain references to other components, which are then retrieved from the same repository using the same
URL patterns.</p></section><section><h4 id="release-and-snapshot-repositories">Release and Snapshot Repositories<a class="anchor" href="#release-and-snapshot-repositories"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>A Maven repository stores two types of components:</p><ol>
<li><strong>Release repositories</strong> are for stable, static release components. A release component is a component which was
created by a specific, versioned release. For example, consider the “1.2.0” release of the “commons-lang” library
stored in the Central Repository. This release component, “commons-lang-1.2.0.jar”, and the associated POM,
“commons-lang-1.2.0.pom”, are static objects which will never change in the Central Repository. Released components
are considered to be solid, stable and perpetual in order to guarantee that builds which depend upon them are
repeatable over time. The released JAR component is associated with a PGP signature, an MD5, and a SHA check-sum
which can be used to verify both the authenticity and integrity of the binary software component.</li>
<li><strong>Snapshot repositories</strong> are frequently updated repositories that store binary software components from projects
under constant development. Snapshot components are components generated during the development of a software
project. A Snapshot component has both a version number such as “1.3.0” or “1.3” and a timestamp in its name. For
example, a snapshot component for “commons-lang 1.3.0” might have the name
“commons-lang-1.3.0.-20090314.182342-1.jar”. The associated POM, MD5 and SHA hashes would also have a similar name.
To facilitate collaboration during the development of software components, Maven and other clients that know how to
consume snapshot components from a repository also know how to interrogate the metadata associated with a Snapshot
component to retrieve the latest version of a Snapshot dependency from a repository.</li>
</ol><p><strong>While it is possible to create a repository which serves both release and snapshot components, repositories are
usually segmented into release or snapshot repositories serving different consumers and maintaining different standards
and procedures for deploying components</strong>. Much like the difference between networks, a release repository is considered
like a production network and a snapshot repository is more like a development or a testing network. While there is a
higher level of procedure and ceremony associated with deploying to a release repository, snapshot components can be
deployed and changed frequently without regard for stability and repeatability concerns.</p><info><p>A project under active development produces snapshot components that change over time. A release is comprised of
components which will remain unchanged over time.</p></info></section></section><section><h3 id="version-policy">Version policy<a class="anchor" href="#version-policy"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>Every repository has one of the 3 <strong>version policies</strong> configured:</p><ul>
<li><strong>Release</strong> A Maven repository can be configured to be suitable for release components with the Release version
policy. The Central Repository uses a release version policy.</li>
<li><strong>Snapshot</strong> Continuous development is typically performed with snapshot versions supported by the Snapshot version
policy. These version values have to <strong>end with -SNAPSHOT in the POM file</strong>. This allows repeated uploads where the
actual number used is composed of a date/timestamp and an enumerator and the retrieval can still use the -SNAPSHOT
version string. The repository manager and client tools manage the metadata files that manage this translation from
the snapshot version to the timestamp value.</li>
<li><strong>Mixed</strong> The Mixed version policy allows us to support both approaches within one repository.</li>
</ul></section><section><h3 id="hosting-maven-repositories">Hosting Maven Repositories<a class="anchor" href="#hosting-maven-repositories"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>A hosted Maven repository can be used to deploy our own as well as third-party components. A default installation of
Nexus Repository Manager includes two hosted Maven repositories. The <strong>maven-releases</strong> repository uses a release
version policy and the <strong>maven-snapshots</strong> repository uses a snapshot version policy.</p><section><h4 id="deploying-to-hosted-maven-repository">Deploying to Hosted Maven repository<a class="anchor" href="#deploying-to-hosted-maven-repository"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Deployment to a repository is configured in 2 steps</p><ol>
<li><a href="#configuring-repository-in-maven-project">Have Maven project point to the repository</a></li>
<li><a href="#obtaining-push-access-to-repository">Authenticate push access to the repository</a></li>
</ol><section><h5 id="configuring-repository-in-maven-project">Configuring Repository in Maven Project<a class="anchor" href="#configuring-repository-in-maven-project"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>Deployment to a repository is configured in the  <code>pom.xml</code> for the respective project in the “distributionManagement”
section:</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="xml" class="wrap" style="--ecMaxLine:68ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">project</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:3ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#4C4F69;--1:#4C4F69">   </span></span><span style="--0:#4C4F69;--1:#4C4F69">...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">distributionManagement</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">nexus</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">Releases</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">https://nexus-host/repository/maven-releases</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">snapshotRepository</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic">&#x3C;!-- This repository can be omitted --></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">nexus</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">Snapshot</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">https://nexus-host/repository/maven-snapshots</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">snapshotRepository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">distributionManagement</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:3ch"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent"><span style="--0:#4C4F69;--1:#4C4F69">   </span></span><span style="--0:#4C4F69;--1:#4C4F69">...</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><blockquote class="admonition bdm-tip"><span class="bdm-title">TIP</span><ul>
<li>
<p>Replace the <code>nexus-host</code> with the NDS address pointing to the actual Nexus instance and
<code>maven-releases</code>/<code>maven-snapshots</code> to the actual repository name. For example,</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="xml" class="wrap" style="--ecMaxLine:68ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">distributionManagement</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">nexus</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">Releases</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">https://nexus.paion-data.dev/repository/maven-oss</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">distributionManagement</span><span style="--0:#116B70;--1:#116B70">></span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div>
</li>
<li>
<p>The “Snapshot” repository (tagged <code>snapshotRepository</code> above) can be omitted in the most CI/CD-enabled project team</p>
</li>
</ul></blockquote></section><section><h5 id="obtaining-push-access-to-repository">Obtaining Push Access to Repository<a class="anchor" href="#obtaining-push-access-to-repository"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>The credentials used for the deployment are configured in the “server” section of the <code>settings.xml</code> file. In the
example below server contains “nexus” as the id, along with a “headless user’s” username and password. They are the
credentials needed to authenticate against the repository:</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="xml" class="wrap" style="--ecMaxLine:55ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">settings</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#4C4F69;--1:#4C4F69">...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">servers</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">server</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">nexus</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">username</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">some-headless-username</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">username</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">password</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">some-headless-password</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">password</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">server</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">servers</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span style="--0:#4C4F69;--1:#4C4F69">...</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>Next, we need to grant the user above (i.e. “some-headless-username”) the push access on the repository side in the
following steps:</p><ol>
<li>Create a <a href="#content-selectors">content selector</a></li>
<li>Create a <a href="#privileges">privilege</a></li>
<li>Create a <a href="#roles">role</a></li>
<li>Assign role to <a href="#users">the headless user</a> defined above</li>
</ol><p>A full build of project, including downloading the declared dependencies and uploading the build output to the
repository manager, can now be invoked with <code>mvn clean deploy</code>.</p></section><section><h5 id="deploying-to-hosted-maven-repository-via-cicd-eg-github-actions">Deploying to Hosted Maven Repository via CI/CD (e.g. GitHub Actions)<a class="anchor" href="#deploying-to-hosted-maven-repository-via-cicd-eg-github-actions"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h5><p>Note that we deployed in the last minute our artifact to repository through a manual <code>mvn clean deploy</code> command. To
enable automatic deployment to the repository, we will simply go through
<a href="#deploying-to-hosted-maven-repository-manually">the exact same procedure</a> except that instead of running
<code>mvn clean deploy</code> locally and manually, we let CI/CD execute that for us.</p><section><h6 id="up-version-automatically">Up-version Automatically<a class="anchor" href="#up-version-automatically"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p>It should be noted that a standard release repository does not allow an artifacts with a defined version to be pushed
into it twice. For example, if our artifacts is my-artifact-1.1.2.jar, this JAR, with version 1.1.2, will fail to be
published onto the repository the 2nd time unless we delete the version 1.1.2 up there.</p><p>Therefore, we need to bump the artifact version each time we release. We achieve this using GitHub’s tagging system. The
two scripts below, taken from <a href="https://github.com/yahoo/fili/tree/master/screwdriver">Yahoo/fili’s CI/CD</a>, creates a new
tag based on previous release tag:</p><ol>
<li>
<p><strong>tag-for-release.bash</strong></p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="bash" class="wrap" style="--ecMaxLine:59ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#8D477A;--0fs:italic;--1:#8D477A;--1fs:italic">#!/bin/bash</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># Pick up the tags from the adjusted remote</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">git</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">fetch</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">--unshallow</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">git</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">fetch</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">--tags</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#C00E34;--0fs:italic;--1:#C00E34;--1fs:italic">echo</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">$(</span><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">git</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">branch</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">-v</span><span style="--0:#5D5F6E;--1:#5D5F6E">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># Get the last tag on this branch</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span style="--0:#4C4F69;--1:#4C4F69">LAST_TAG</span><span style="--0:#116B70;--1:#116B70">=</span><span style="--0:#5D5F6E;--1:#5D5F6E">$(</span><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">git</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">describe</span><span style="--0:#5D5F6E;--1:#5D5F6E">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span style="--0:#C00E34;--0fs:italic;--1:#C00E34;--1fs:italic">echo</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">"INFO Last tag: </span><span style="--0:#4C4F69;--1:#4C4F69">$LAST_TAG</span><span style="--0:#2C6E1E;--1:#2C6E1E">"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># Build the new tag to push</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span style="--0:#4C4F69;--1:#4C4F69">NEW_TAG</span><span style="--0:#116B70;--1:#116B70">=</span><span style="--0:#5D5F6E;--1:#5D5F6E">$(</span><span style="--0:#4C4F69;--1:#4C4F69">LAST_TAG</span><span style="--0:#116B70;--1:#116B70">=</span><span style="--0:#4C4F69;--1:#4C4F69">${LAST_TAG} </span><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">python</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">.github/upversion.py</span><span style="--0:#5D5F6E;--1:#5D5F6E">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span style="--0:#C00E34;--0fs:italic;--1:#C00E34;--1fs:italic">echo</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">"INFO Creating tag: </span><span style="--0:#4C4F69;--1:#4C4F69">$NEW_TAG</span><span style="--0:#2C6E1E;--1:#2C6E1E">"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">git</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">tag</span><span style="--0:#4C4F69;--1:#4C4F69"> $NEW_TAG </span><span style="--0:#2C6E1E;--1:#2C6E1E">-a</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">-m</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">"Autogenerated version bump tag"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># Push the new tag</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span style="--0:#C00E34;--0fs:italic;--1:#C00E34;--1fs:italic">echo</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">"INFO Pushing tag: </span><span style="--0:#4C4F69;--1:#4C4F69">$NEW_TAG</span><span style="--0:#2C6E1E;--1:#2C6E1E">"</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">git</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">push</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">origin</span><span style="--0:#4C4F69;--1:#4C4F69"> $NEW_TAG</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div>
</li>
<li>
<p><strong>upversion.py</strong></p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="python" class="wrap" style="--ecMaxLine:61ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic">#!/usr/bin/python</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#7B34D9;--1:#7B34D9">import</span><span style="--0:#4C4F69;--1:#4C4F69"> os</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#4C4F69;--1:#4C4F69">split_tag </span><span style="--0:#116B70;--1:#116B70">=</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">(</span><span style="--0:#4C4F69;--1:#4C4F69">os</span><span style="--0:#5D5F6E;--1:#5D5F6E">.</span><span style="--0:#AD343E;--0fs:italic;--1:#AD343E;--1fs:italic">environ</span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">'</span><span style="--0:#2C6E1E;--0fs:italic;--1:#2C6E1E;--1fs:italic">LAST_TAG</span><span style="--0:#2C6E1E;--1:#2C6E1E">'</span><span style="--0:#5D5F6E;--1:#5D5F6E">].</span><span style="--0:#1A57D1;--1:#1A57D1">split</span><span style="--0:#5D5F6E;--1:#5D5F6E">(</span><span style="--0:#2C6E1E;--1:#2C6E1E">'-'</span><span style="--0:#5D5F6E;--1:#5D5F6E">)[</span><span style="--0:#A54107;--1:#A54107">0</span><span style="--0:#5D5F6E;--1:#5D5F6E">]).</span><span style="--0:#1A57D1;--1:#1A57D1">split</span><span style="--0:#5D5F6E;--1:#5D5F6E">(</span><span style="--0:#2C6E1E;--1:#2C6E1E">"."</span><span style="--0:#5D5F6E;--1:#5D5F6E">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#AD343E;--0fs:italic;--1:#AD343E;--1fs:italic">split_tag</span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#116B70;--1:#116B70">-</span><span style="--0:#A54107;--0fs:italic;--1:#A54107;--1fs:italic">1</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#116B70;--1:#116B70">=</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#7B34D9;--0fs:italic;--1:#7B34D9;--1fs:italic">str</span><span style="--0:#5D5F6E;--1:#5D5F6E">(</span><span style="--0:#7B34D9;--0fs:italic;--1:#7B34D9;--1fs:italic">int</span><span style="--0:#5D5F6E;--1:#5D5F6E">(</span><span style="--0:#AD343E;--0fs:italic;--1:#AD343E;--1fs:italic">split_tag</span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#116B70;--1:#116B70">-</span><span style="--0:#A54107;--0fs:italic;--1:#A54107;--1fs:italic">1</span><span style="--0:#5D5F6E;--1:#5D5F6E">])</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#116B70;--1:#116B70">+</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">1</span><span style="--0:#5D5F6E;--1:#5D5F6E">)</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#A54107;--0fs:italic;--1:#A54107;--1fs:italic">print</span><span style="--0:#5D5F6E;--1:#5D5F6E">(</span><span style="--0:#2C6E1E;--1:#2C6E1E">"."</span><span style="--0:#5D5F6E;--1:#5D5F6E">.</span><span style="--0:#1A57D1;--1:#1A57D1">join</span><span style="--0:#5D5F6E;--1:#5D5F6E">(</span><span style="--0:#4C4F69;--1:#4C4F69">split_tag</span><span style="--0:#5D5F6E;--1:#5D5F6E">))</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div>
</li>
</ol><p><em>We put these two files under <strong>.github</strong> directory</em>.</p></section><section><h6 id="deploying-to-github-packages">Deploying to <a href="https://github.com/features/packages">GitHub Packages</a><a class="anchor" href="#deploying-to-github-packages"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p>Create a <strong>release.yml</strong> file under <em>.github/workflows</em> directory with the following content:</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:112ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#8D477A;--1:#8D477A">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Release</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#A54107;--1:#A54107">on</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">push</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">branches</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">master</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">test</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">./.github/workflows/test.yml</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">secrets</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">inherit</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">publish</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">needs</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">test</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">permissions</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">contents</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">write</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># allow for pushing tag</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">packages</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">write</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">steps</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683</span><span style="--0:#4C4F69;--1:#4C4F69">  </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># v4.2.2</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">actions/setup-java@v3</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">with</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">java-version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">'11'</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">25</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">distribution</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">'adopt'</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">26</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Tag for release</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">27</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">run</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#7B34D9;--1:#7B34D9">|</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">28</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">          </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">git config --global user.name 'QubitPi'</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">29</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">          </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">git config --global user.email 'jack20191124@proton.me'</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">30</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">          </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">.github/tag-for-release.bash</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">31</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Set release version</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">32</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">run</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#7B34D9;--1:#7B34D9">|</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">33</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">          </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">VERSION=$(git describe)</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">34</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">          </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">mvn versions:set -DnewVersion=$VERSION -DgenerateBackupPoms=false</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">35</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">          </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">mvn versions:update-property -Dproperty=version.owner -DnewVersion=$VERSION -DgenerateBackupPoms=false</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">36</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Publish Package to Paion Nexus Repository</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">37</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">run</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">mvn --batch-mode deploy</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">38</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">env</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">39</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">GITHUB_TOKEN</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ secrets.GITHUB_TOKEN }}</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">40</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Deploy documentation to GitHub Pages</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">41</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">peaceiris/actions-gh-pages@4f9cc6602d3f66b9c108549d475ec49e8ef4d45e</span><span style="--0:#4C4F69;--1:#4C4F69">  </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># v4.0.0</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">42</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">with</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">43</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">github_token</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ secrets.GITHUB_TOKEN }}</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">44</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">publish_dir</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">./docs</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">45</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">enable_jekyll</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">true</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">46</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">user_name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">QubitPi</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">47</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">user_email</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">jack20191124@proton.me</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><info><p>The <code>test</code> job defined above is a <a href="https://docs.github.com/en/actions/using-workflows/reusing-workflows#creating-a-reusable-workflow">workflow call</a> that delegates all testing to a separate
GitHub Action. An example of such workflow could be:</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:42ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#8D477A;--1:#8D477A">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Test</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#A54107;--1:#A54107">on</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">workflow_call</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">pull_request</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">types</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">opened</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">synchronize</span><span style="--0:#5D5F6E;--1:#5D5F6E">,</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">reopened</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">test</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Test</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">steps</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">actions/checkout@v2</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Set up JDK 11 for Build</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">actions/setup-java@v1</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">with</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">java-version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">11</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Build</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">run</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">mvn -B clean verify</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div></info><info><p>The “Set release version” step above was inspired by
<a href="https://github.com/yahoo/fili/blob/master/screwdriver/scripts/publish.sh">yahoo/fili’s approach</a></p></info></section><section><h6 id="deploying-to-nexus-3">Deploying to Nexus 3<a class="anchor" href="#deploying-to-nexus-3"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h6><p>Or we can deploy to any hosted repository such as Nexus 3 with a slightly modified release definition:</p><blockquote class="admonition bdm-tip"><span class="bdm-title">TIP</span><p>Note that this file differs from the <a href="#deploying-to-github-packageshttpsgithubcomfeaturespackages">GitHub version</a> by
replacing the <code>GITHUB_TOKEN</code> with the dedicated credentials put in a dynamically generated settints.xml file using
the <a href="https://github.com/whelk-io/maven-settings-xml-action">whelk-io/maven-settings-xml-action</a> action. These
credentials are sealed securely in <a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets">GitHub Secrets</a>. We need to define the following 3 secrets:</p><ol>
<li><strong>MAVEN_DEPLOY_SERVER_ID</strong></li>
<li><strong>MAVEN_DEPLOY_SERVER_USERNAME</strong></li>
<li><strong>MAVEN_DEPLOY_SERVER_PASSWD</strong></li>
</ol></blockquote><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="yaml" class="wrap" style="--ecMaxLine:112ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#8D477A;--1:#8D477A">---</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Release</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span style="--0:#A54107;--1:#A54107">on</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">push</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">branches</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">master</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#1A57D1;--1:#1A57D1">jobs</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">test</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">./.github/workflows/test.yml</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">secrets</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">inherit</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">  </span><span style="--0:#1A57D1;--1:#1A57D1">publish</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">needs</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--1:#5D5F6E">[</span><span style="--0:#2C6E1E;--1:#2C6E1E">test</span><span style="--0:#5D5F6E;--1:#5D5F6E">]</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">runs-on</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">ubuntu-latest</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">permissions</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">contents</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">write</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># allow for pushing tag</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent">      </span><span style="--0:#1A57D1;--1:#1A57D1">packages</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">write</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span class="indent">    </span><span style="--0:#1A57D1;--1:#1A57D1">steps</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683</span><span style="--0:#4C4F69;--1:#4C4F69">  </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># v4.2.2</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">actions/setup-java@v3</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">with</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">java-version</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">'11'</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">25</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">distribution</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">'adopt'</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">26</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Tag for release</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">27</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">run</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#7B34D9;--1:#7B34D9">|</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">28</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">          </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">git config --global user.name 'QubitPi'</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">29</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">          </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">git config --global user.email 'jack20191124@proton.me'</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">30</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">          </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">.github/tag-for-release.bash</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">31</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Set release version</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">32</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">run</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#7B34D9;--1:#7B34D9">|</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">33</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">          </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">VERSION=$(git describe)</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">34</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">          </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">mvn versions:set -DnewVersion=$VERSION -DgenerateBackupPoms=false</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">35</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">          </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">mvn versions:update-property -Dproperty=version.owner -DnewVersion=$VERSION -DgenerateBackupPoms=false</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">36</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Generate settings.xml in order to grant push access to Paion Nexus Repository</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">37</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">whelk-io/maven-settings-xml-action@v20</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">38</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">with</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">39</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">servers</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#7B34D9;--1:#7B34D9">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">40</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">            </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">[</span></div></div><div class="ec-line" style="--ecIndent:14ch"><div class="gutter"><div class="ln" aria-hidden="true">41</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">              </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">{</span></div></div><div class="ec-line" style="--ecIndent:16ch"><div class="gutter"><div class="ln" aria-hidden="true">42</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">                </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">"id": "${{ secrets.MAVEN_DEPLOY_SERVER_ID }}",</span></div></div><div class="ec-line" style="--ecIndent:16ch"><div class="gutter"><div class="ln" aria-hidden="true">43</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">                </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">"username": "${{ secrets.MAVEN_DEPLOY_SERVER_USERNAME }}",</span></div></div><div class="ec-line" style="--ecIndent:16ch"><div class="gutter"><div class="ln" aria-hidden="true">44</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">                </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">"password": "${{ secrets.MAVEN_DEPLOY_SERVER_PASSWD }}"</span></div></div><div class="ec-line" style="--ecIndent:14ch"><div class="gutter"><div class="ln" aria-hidden="true">45</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">              </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">}</span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">46</div></div><div class="code"><span class="indent"><span style="--0:#2C6E1E;--1:#2C6E1E">            </span></span><span style="--0:#2C6E1E;--1:#2C6E1E">]</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">47</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Publish Package to Paion Nexus Repository</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">48</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">run</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">mvn --batch-mode deploy</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">49</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--1:#5D5F6E">-</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">Deploy documentation to GitHub Pages</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">50</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">uses</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">peaceiris/actions-gh-pages@4f9cc6602d3f66b9c108549d475ec49e8ef4d45e</span><span style="--0:#4C4F69;--1:#4C4F69">  </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic"># v4.0.0</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">51</div></div><div class="code"><span class="indent">        </span><span style="--0:#1A57D1;--1:#1A57D1">with</span><span style="--0:#116B70;--1:#116B70">:</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">52</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">github_token</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">${{ secrets.GITHUB_TOKEN }}</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">53</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">publish_dir</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">./docs</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">54</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">enable_jekyll</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#A54107;--1:#A54107">true</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">55</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">user_name</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">QubitPi</span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">56</div></div><div class="code"><span class="indent">          </span><span style="--0:#1A57D1;--1:#1A57D1">user_email</span><span style="--0:#116B70;--1:#116B70">:</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">jack20191124@proton.me</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><blockquote class="admonition bdm-tip"><span class="bdm-title">TIP</span><p>We can later pull our released artifact from the hosted repository by placing the <strong>repository</strong> section. For example:</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="xml" class="wrap" style="--ecMaxLine:72ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">project</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#4C4F69;--1:#4C4F69">    </span></span><span style="--0:#4C4F69;--1:#4C4F69">...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">repositories</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">paion</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">Paion Data Official Release Repository</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">https://nexus.paion-data.dev/repository/maven-oss</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">repositories</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">project</span><span style="--0:#116B70;--1:#116B70">></span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div></blockquote></section></section></section><section><h4 id="using-repository-manager-with-apache-maven">Using Repository Manager with Apache Maven<a class="anchor" href="#using-repository-manager-with-apache-maven"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>To use repository manager with <a href="http://maven.apache.org/">Apache Maven</a>, configure Maven to check the repository manager
instead of the default, built-in connection to the Central Repository.</p><p>To do this, we add a mirror configuration and override the default configuration for the central repository in our
”~/.m2/settings.xml”, shown below:</p><blockquote class="admonition bdm-tip"><span class="bdm-title">TIP</span><p>Replace the “nexus-host” with the NDS address pointing to the actual Nexus instance.</p></blockquote><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="xml" class="wrap" style="--ecMaxLine:70ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">settings</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">mirrors</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">mirror</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic">&#x3C;!--This sends everything else to /public --></span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">      </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">nexus</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">      </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">mirrorOf</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">*</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">mirrorOf</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">      </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">https://nexus-host/repository/maven-public/</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">mirror</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">  </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">mirrors</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">  </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">profiles</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">profile</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">      </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">nexus</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic">&#x3C;!--Enable snapshots for the built in central repo to direct --></span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">      </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic">&#x3C;!--all requests to nexus via the mirror --></span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent">      </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">repositories</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">          </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">central</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent">          </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">http://central</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span class="indent">          </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">releases</span><span style="--0:#116B70;--1:#116B70">>&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">enabled</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">true</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">enabled</span><span style="--0:#116B70;--1:#116B70">>&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">releases</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span class="indent">          </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">snapshots</span><span style="--0:#116B70;--1:#116B70">>&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">enabled</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">true</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">enabled</span><span style="--0:#116B70;--1:#116B70">>&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">snapshots</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">23</div></div><div class="code"><span class="indent">      </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">repositories</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:5ch"><div class="gutter"><div class="ln" aria-hidden="true">24</div></div><div class="code"><span class="indent">     </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">pluginRepositories</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">25</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">pluginRepository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">26</div></div><div class="code"><span class="indent">          </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">central</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">27</div></div><div class="code"><span class="indent">          </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">http://central</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">28</div></div><div class="code"><span class="indent">          </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">releases</span><span style="--0:#116B70;--1:#116B70">>&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">enabled</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">true</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">enabled</span><span style="--0:#116B70;--1:#116B70">>&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">releases</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:10ch"><div class="gutter"><div class="ln" aria-hidden="true">29</div></div><div class="code"><span class="indent">          </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">snapshots</span><span style="--0:#116B70;--1:#116B70">>&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">enabled</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">true</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">enabled</span><span style="--0:#116B70;--1:#116B70">>&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">snapshots</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">30</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">pluginRepository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="gutter"><div class="ln" aria-hidden="true">31</div></div><div class="code"><span class="indent">      </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">pluginRepositories</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">32</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">profile</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">33</div></div><div class="code"><span class="indent">  </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">profiles</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">34</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">35</div></div><div class="code"><span class="indent">  </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">activeProfiles</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">36</div></div><div class="code"><span class="indent">    </span><span style="--0:#5D5F6E;--0fs:italic;--1:#5D5F6E;--1fs:italic">&#x3C;!--make the profile active all the time --></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">37</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">activeProfile</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">nexus</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">activeProfile</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="gutter"><div class="ln" aria-hidden="true">38</div></div><div class="code"><span class="indent">  </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">activeProfiles</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">39</div></div><div class="code"><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">settings</span><span style="--0:#116B70;--1:#116B70">></span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>In the configuration above, a single profile called <strong>nexus</strong> is defined. It configures a repository and a
pluginRepository with the id <strong>central</strong> that overrides the same repositories in the Super POM. The <em>Super POM</em> is
internal to every Apache Maven install and establishes default values. These overrides are important since they change
the repositories by enabling snapshots and replacing the URL with a bogus URL. This URL is overridden by the <strong>mirror</strong>
setting in the same settings.xml file to point to the URL of our single repository group. This repository group can,
therefore, contain release as well as snapshot components and Maven will pick them up.</p><p>In addition, The <strong>mirrorOf</strong> pattern of <code>*</code> causes any repository request to be redirected to this mirror and to our
single repository group, which in the example is the public group.</p><blockquote class="admonition bdm-tip"><span class="bdm-title">TIP</span><p>It is possible to use other patterns in the “mirrorOf” field. A possible valuable setting is to use <strong>external:</strong>*.
This matches all repositories except those using “localhost” or file based repositories. This is used in conjunction
with a repository manager when you want to exclude redirecting repositories that are defined for integration testing.
The integration test runs for Apache Maven itself require this setting.</p><p>More documentation about mirror settings can be found in the
<a href="http://maven.apache.org/guides/mini/guide-mirror-settings.html">mini guide on the Maven web site</a>.</p></blockquote><blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>For startup who doesn’t really need to proxy the entire Maven Central at the moment, another approach is to set up
multiple repositories. In each project they are working on, they will still fetch everything from Maven Central except
for their hosted component from Nexus</p><p>There are two different ways that we can specify the use of multiple repositories. The first way is to specify in a POM
which repositories we want to use. That is supported both inside and outside of build profiles:</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="xml" class="wrap" style="--ecMaxLine:46ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">project</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#4C4F69;--1:#4C4F69">    </span></span><span style="--0:#4C4F69;--1:#4C4F69">...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">repositories</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">my-repo1</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">your custom repo</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">http://jarsm2.dyndns.dk</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">my-repo2</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">your custom repo</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">http://jarsm2.dyndns.dk</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">repositories</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span class="indent"><span style="--0:#4C4F69;--1:#4C4F69">    </span></span><span style="--0:#4C4F69;--1:#4C4F69">...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">project</span><span style="--0:#116B70;--1:#116B70">></span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>The other way we can specify multiple repositories is by creating a profile in the <code>${user.home}/.m2/settings.xml</code> or
<code>${maven.home}/conf/settings.xml</code> file like the following:</p><div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="xml" class="wrap" style="--ecMaxLine:54ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">settings</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#4C4F69;--1:#4C4F69">    </span></span><span style="--0:#4C4F69;--1:#4C4F69">...</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">profiles</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#4C4F69;--1:#4C4F69">        </span></span><span style="--0:#4C4F69;--1:#4C4F69">...</span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">profile</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">myprofile</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">repositories</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:16ch"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">                </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:20ch"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">                    </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">my-repo2</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">id</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:20ch"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">                    </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">your custom repo</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">name</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:20ch"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">                    </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">http://jarsm2.dyndns.dk</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">url</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:16ch"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">                </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">repository</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:12ch"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">            </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">repositories</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span class="indent">        </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">profile</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:8ch"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent"><span style="--0:#4C4F69;--1:#4C4F69">        </span></span><span style="--0:#4C4F69;--1:#4C4F69">...</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent">    </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">profiles</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code">
</div></div><div class="ec-line" style="--ecIndent:5ch"><div class="gutter"><div class="ln" aria-hidden="true">18</div></div><div class="code"><span class="indent">     </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">activeProfiles</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:9ch"><div class="gutter"><div class="ln" aria-hidden="true">19</div></div><div class="code"><span class="indent">         </span><span style="--0:#116B70;--1:#116B70">&#x3C;</span><span style="--0:#1A57D1;--1:#1A57D1">activeProfile</span><span style="--0:#116B70;--1:#116B70">></span><span style="--0:#4C4F69;--1:#4C4F69">myprofile</span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">activeProfile</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:5ch"><div class="gutter"><div class="ln" aria-hidden="true">20</div></div><div class="code"><span class="indent">     </span><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">activeProfiles</span><span style="--0:#116B70;--1:#116B70">></span></div></div><div class="ec-line" style="--ecIndent:5ch"><div class="gutter"><div class="ln" aria-hidden="true">21</div></div><div class="code"><span class="indent"><span style="--0:#4C4F69;--1:#4C4F69">     </span></span><span style="--0:#4C4F69;--1:#4C4F69">...</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">22</div></div><div class="code"><span style="--0:#116B70;--1:#116B70">&#x3C;/</span><span style="--0:#1A57D1;--1:#1A57D1">settings</span><span style="--0:#116B70;--1:#116B70">></span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>If we specify repositories in profiles we must remember to activate that particular profile. As we can see above we do
this by registering a profile to be active in the <code>activeProfiles</code> element.</p><p>We could also activate this profile on the command like by executing the following command:</p><div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash" class="wrap" style="--ecMaxLine:19ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">mvn</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">-Pmyprofile</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">...</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>In fact the <code>-P</code> option will take a CSV list of profiles to activate if we wish to activate multiple profiles
simultaneously.</p><p>The settings descriptor documentation can be found on the
<a href="https://maven.apache.org/maven-settings/settings.html">Maven Local Settings Model Website</a>.</p></blockquote><p>Remote repository URLs are queried in the following order for artifacts until one returns a valid result:</p><ol>
<li>Global settings.xml</li>
<li>User settings.xml</li>
<li>Local pom.xml</li>
<li>Parent POMs, recursively</li>
<li>Super POM</li>
<li>effective POMs from dependency path to the artifact.</li>
</ol><p>For each of these locations, the repositories within the profiles are queried first in the order outlined at
<a href="https://maven.apache.org/guides/introduction/introduction-to-profiles.html">Introduction to build profiles</a>.</p><p>Before downloading from a repository,
<a href="https://maven.apache.org/guides/mini/guide-mirror-settings.html">mirrors configuration</a> is applied.</p><p>Effective settings and local build POM, with profile taken into account, can easily be reviewed to see their
repositories order with <code>mvn help:effective-settings</code> and mvn <code>help:effective-pom -Dverbose</code>.</p></section></section><section><h3 id="setting-up-docker-registry">Setting Up Docker Registry<a class="anchor" href="#setting-up-docker-registry"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>Docker containers and their usage have revolutionized the way applications and the underlying operating system are
packaged and deployed to development, testing and production systems. The creation of the
<a href="https://opencontainers.org/">Open Container Initiative</a>, and the involvement of a large number of stakeholders,
guarantees that the ecosystem of tools around the lightweight containers and their usage will continue to flourish.
<a href="https://hub.docker.com/">Docker Hub</a> is the original registry for Docker container images and it is being joined by
more and more other publicly available registries such as the
<a href="https://cloud.google.com/container-registry/">Google Container Registry</a> and others.</p><p>Nexus Repository Manager OSS support Docker registries as the Docker repository format for <strong>hosted</strong> and <strong>proxy</strong>
repositories. We can expose these repositories to the client-side tools directly or as a
<a href="#repository-group">repository group</a>, which is a repository that merges and exposes the contents of multiple
repositories in one convenient URL. This allows us to reduce time and bandwidth usage for accessing Docker images in a
registry as well as share our images within our organization in a hosted repository. Users can then launch containers
based on those images, resulting in a completely private Docker registry with all the features available in the
repository manager.</p><section><h4 id="docker-port-scalability">Docker Port Scalability<a class="anchor" href="#docker-port-scalability"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>The Docker client has strict requirements about how it can retrieve content from a repository (i.e., a registry). These
requirements mainly center around the path at which it expects everything to be hosted.</p><p>While it is possible to tell the Docker client to use a chosen host from which to retrieve (or to which to upload)
images, it is not possible to tell it to use an arbitrary base path where images are stored in a registry.</p><p>To further explain, the Docker client is given a registry to contact by specifying only the hostname + port. It’s also
given a specific path to an image in that registry. So, for example, it would be given
<code>example:443/some/custom/image</code> to specify an image. We are not able to specify a registry application path.</p><p>Nexus Repository exposes its Docker registries with a repository path of <code>/repository/&#x3C;repo_name>/</code> and, by default,
and application context path of <code>/</code>.</p><p>So, a full Docker image in the repository “docker-hosted” might be accessible at full URL
“example:443/nexus3/repository/docker-hosted/some/custom/image”, which can be broken down as follows:</p><ul>
<li><strong>example.com</strong> = host name</li>
<li><strong>443</strong> = port</li>
<li>/nexus3 = application context path</li>
<li>/repository/docker-hosted = base registry path</li>
<li><strong>/some/custom/image</strong> = specific image path in the registry</li>
</ul><p>There is no way to give the Docker client the application context path or base registry path. Docker needs the registry
exposed at the root of the host + port that it is accessing.</p><p>This is important because Nexus Repository uses request paths to separate content between different repositories. There
are a few potential ways to overcome this Docker limitation:</p></section></section><section><h3 id="access-control">Access Control<a class="anchor" href="#access-control"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>Nexus Repository uses <strong>role-based access control</strong> (<strong>RBAC</strong>) to give administrators fine-grained control over user
rights to the following:</p><ul>
<li>Access to the Nexus Repository web application</li>
<li>Read access to a component path in a repository</li>
<li>Administator access to configuration</li>
<li>Publish or upload files to a repository</li>
</ul><p>The default configuration ships with the administrator role and optional anonymous access to browse and read all
repositories. <strong>We should not use the default anonymous role if we need to create protected repositories</strong>.</p></section><section><h3 id="realms">Realms<a class="anchor" href="#realms"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>:::info What Is a Realm?</p><p>A realm is a security policy domain defined for a web or application server. The protected resources on a server can be
partitioned into a set of protection spaces, <strong>each with its own authentication scheme</strong> and/or authorization database
containing a collection of users and groups.
:::</p><p>The realms can be accessed via the <strong>Realms</strong> menu item located under <strong>Security</strong>, in the Administration main menu.</p><p><img alt="Error loading nexus3-realms.png" loading="lazy" decoding="async" fetchpriority="auto" width="1262" height="770" src="/_astro/nexus3-realms.TTyM0KKJ_20Wiz2.webp" ></p><p>Effectively, the configuration shown above determines what authentication realm is used to grant a user access and the
order the realms are used.</p><ul>
<li><strong>Local Authenticating Realm and Local Authorizing Realm</strong> These are the built-in realms used by default. They allow
the repository manager to manage security setup without additional external systems. Sonatype recommends keeping the
Local realms at the top of the active list.  In the event of system recovery, if we have them lower in the order (or
removed), restoration may be more difficult.</li>
</ul></section><section><h3 id="privileges">Privileges<a class="anchor" href="#privileges"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>Privileges define actions which can be performed against specific functionality. Privileges can only be assigned to
roles.</p><p>To access Privileges go to <strong>Security</strong> in the Administration menu, where it’s listed as a sub-section. An extensive
list of privileges is already built in the repository manager and is partially shown in the figure below</p><p><img alt="Error loading nexus3-privileges-partial-list.png" loading="lazy" decoding="async" fetchpriority="auto" width="749" height="274" src="/_astro/nexus3-privileges-partial-list.BvLYgzbu_Z1F8vwa.webp" ></p><p>This feature allows us to inspect existing privileges and create custom privileges as required. Users will need
<em>nx-privilege</em> or <em>nx-all</em> privileges to access this page.</p><section><h4 id="privilege-names">Privilege Names<a class="anchor" href="#privilege-names"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Names are unique identifiers. Privileges included by default are prefixed with <strong>nx-</strong> . Privileges that are migrated
from Nexus Repository 2 will be named as they were in Repository 2. Privileges that we create ourselves can only
consist of letters, digits, underscores(<code>_</code>), hyphens(<code>-</code>), and dots(<code>.</code>). A privilege name cannot start with an
underscore or dot.</p><p>For custom privileges, it is encouraged that we use a <strong>simple convention</strong> to namespace our privileges. For example
using a simple acronym representing our organization name. “Example Organization Inc.” could prefix its privilege names
with <strong>eoi-</strong> for example.</p></section><section><h4 id="privilege-types">Privilege Types<a class="anchor" href="#privilege-types"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>The privilege list displays an icon for the privilege Type as the first column in the list:</p><p>:::info Privilege Permissions</p><p>Privilege permissions are represented by a colon separated list of text segments, where each segment can be one of:</p><ul>
<li>a single text value</li>
<li>a comma separated list of text values</li>
<li>an asterisk character * to represent all values in that segment</li>
</ul><p>The internal segment matching algorithm uses
<a href="https://shiro.apache.org/permissions.html">Apache Shiro wildcard permissions</a>.</p><p>:::</p><ul>
<li>
<p>application (<code>nexus:{name}:{actions}</code>)</p>
<ul>
<li>Applicable Actions: create, read, update, delete</li>
<li>Description: Application type privileges are most commonly the built-in privileges that control access to specific
product feature areas in the Administration <strong>UI</strong>. For example, “nexus:blobstores<create></create>,read” means allowing for
creating and reading blobstores</li>
</ul>
</li>
<li>
<p>repository-admin (<code>nexus:repository-admin:{format}:{repository}:{actions}</code>)</p>
<ul>
<li>Applicable Actions: browse,read,edit,add,delete</li>
<li>Description: Repository Admin privileges control administration of <strong>configuration</strong> for specific repositories or
repository formats. For example, “nexus:repository-admin:nuget<nuget></nuget>.org-proxy<browse></browse>,read” means allowing viewing
of the repository configuration for the nuget format repository named “nuget.org-proxy”. <strong>These privileges do not
control access to repository content</strong>.</li>
</ul>
</li>
<li>
<p>repository-content-selector (<code>nexus:repository-content-selector:{selector}:{format}:{repository}:{actions}</code>)</p>
<ul>
<li>Applicable Actions: browse,read,edit,add,delete</li>
<li>Description: Repository Content Selector privileges provide fine-grained control over access to content within a
repository by way of a content selector. For example, “nexus:repository-content-selector:<em>:maven2:</em><read></read>” means
allowing a user for read access to any content matching a content selector defined for the maven2 format.</li>
</ul>
</li>
<li>
<p>repository-view (<code>nexus:repository-view:{format}:{repository}:{actions}</code>)</p>
<ul>
<li>Applicable Actions: browse,read,edit,add,delete</li>
<li>Description: Repository View privileges control general access to all content contained within specific
repositories or repository formats. For example, “nexus:repository-view:maven2:central<browse></browse>,read” means allow
browsing and viewing content within the maven2 format repository named central. <strong>These privileges do not allow
changing configuration of a repository</strong>.</li>
</ul>
</li>
<li>
<p>script (<code>nexus:script:{script name}:{actions}</code>)</p>
<ul>
<li>Applicable Actions: browse,read,edit,add,delete,run</li>
<li>Description: Script privileges control access to using the Groovy Script related REST APIs as documented in
<a href="https://help.sonatype.com/repomanager3/integrations/rest-and-integration-api">REST and Integration API</a> . These
privileges do not control general REST API access. For example, “nexus:script:*<read></read>” means allowing for read access
to all scripts of any name. “nexus:script:my-uploaded-script<run></run>” means allowing the calling user for running
(executing) the script named my-uploaded-script</li>
</ul>
</li>
<li>
<p>wildcard (<code>*</code>)</p>
<ul>
<li>Applicable Actions: *</li>
<li>Description: Wildcard privileges allow one to build a privilege string using a free-form series of segments. All
other privilege types are more specific segment forms of a wildcard privilege. There is only one wildcard privilege
included by default named <strong>nx-all</strong> with permission <strong>nexus:</strong>*  that gives access to all functionality.</li>
</ul>
</li>
</ul><p>:::info Privilege Actions</p><p>Actions are functions allowing an explicit behavior the privilege can perform with the associated function.</p><p>The Actions to choose from are</p><ul>
<li><strong>add</strong> allows privileges to add repositories or scripts.</li>
<li><strong>read</strong> allows privileges to view various configuration lists and scripts. Without <strong>read</strong>, any associated action
will permit a privilege to see these lists but not its contents. The <strong>read</strong> action also allows privileges to
utilize tools that can look at content from the command line.</li>
<li><strong>browse</strong>  allows privileges to view the contents of associated repositories. Unlike <strong>read</strong>, privilege types with
browse can only view and administrate repository <em>contents</em> from <em>UI</em>.</li>
<li><strong>create</strong> allows privileges to create applicable configurations within the repository manager. Since a <strong>read</strong>
permission is required to view a configuration, this action is associated with most existing create privileges.</li>
<li><strong>delete</strong> allows privileges to delete repository manager configurations, repository contents, and scripts. A
<strong>read</strong> action is generally associated with delete actions, so the actor can view these configurations to remove
them.</li>
<li><strong>edit</strong> allows privileges to modify associated scripts, repository content, and repository administration.</li>
<li><strong>update</strong> allows privileges to update repository manager configurations. Most existing privileges with update
include <strong>read</strong> actions. Therefore, if creating custom privileges with update, the actor should consider adding read
to the privilege in order to view repository manager configuration updates.</li>
<li><strong><code>*</code></strong>, the wildcard, gives us the ability to group all actions together.</li>
</ul><p>We must assign a single or combination of comma-delimited actions when creating new privileges. The privilege type to
which we apply any of these Actions will perform the action’s implied behavior. Consider how each action behaves when
applied to a privilege type</p><p>:::</p></section><section><h4 id="creating-a-privilege">Creating a Privilege<a class="anchor" href="#creating-a-privilege"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Click the <strong>Create privilege</strong> button to view a list of privilege types</p><p><img alt="Error loading nexnus3-privileges-types.png" loading="lazy" decoding="async" fetchpriority="auto" width="502" height="258" src="/_astro/nexnus3-privileges-types.Dqk33v4v_Z1VJClr.webp" ></p><p>After selecting a type, fill in the required fields and save the privilege. The privilege can be found listed among the
default privileges on the main <strong>Privileges</strong> screen. We can use the <strong>Filter</strong> input box to find a specific
privilege. In the following example, an <em>Application</em> privilege type is created:</p><p><img alt="Error loading nexus3-privileges-application.png" loading="lazy" decoding="async" fetchpriority="auto" width="673" height="388" src="/_astro/nexus3-privileges-application.awpGiKYR_Zw15Fh.webp" ></p><p>The form provides Name, Description, Domain, and Actions in figure above. The form is completed for a privilege that
allows read access to the LDAP administration. If assigned this privilege, a user is able to view LDAP administration
configuration but not edit it, create a new LDAP configuration, nor delete any existing LDAP configurations.</p><p>In another example, a <em>Repository View</em> privilege type is created:</p><p><img alt="Error loading nexus3-privileges-repository-view.png" loading="lazy" decoding="async" fetchpriority="auto" width="638" height="455" src="/_astro/nexus3-privileges-repository-view.C_WwKSBE_JxpMe.webp" ></p><p>The form provides Name, Description, Format, Repository, and Actions in figure above. The form is completed for a
privilege granting sufficient access to publish images to a specific hosted repository. A user with this privilege can
view and read the contents of the repository as well as publish new images to it, but not delete images.</p></section></section><section><h3 id="content-selectors">Content Selectors<a class="anchor" href="#content-selectors"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>Content selectors provide a means for us to select specific content from all of our content. The content we select is
evaluated against expressions written in <strong>CSEL</strong> (<strong>Content Selector Expression Language</strong>). CSEL is a light version
of <strong>JEXL</strong> used to script queries along specific paths and coordinates available to our repository manager formats.</p><p>Content selectors allow us to define what content users are allowed to access. We can define, in a simplified example,
a selector named “Apache Maven” with a search expression of <code>path =~ "^/org/apache/maven/"</code>. This would match all
components that start with the designated component path. Another, yet more complete, example would be to “select all
maven2 content along a path that starts with <code>org.apache.commons</code>”:
<code>format == "maven2" and path =~ "^/org/apache/commons/.*"</code></p><section><h4 id="creating-a-query">Creating a Query<a class="anchor" href="#creating-a-query"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Before we identify user permissions for our selector, create the query first. Click <strong>Content Selectors</strong> located in
<strong>Repository</strong>, from the <strong>Administration</strong> menu. Click <strong>Create Selector</strong> to open a new form.</p><p><img alt="Error loading nexus3-content-selector-example.png" loading="lazy" decoding="async" fetchpriority="auto" width="1182" height="1800" src="/_astro/nexus3-content-selector-example.CosgKMET_ix8mF.webp" ></p><blockquote class="admonition bdm-tip"><span class="bdm-title">TIP</span><p>We can preview our selector and what results it will return by clicking the <strong>Preview</strong> results button located
somewhere in the middle section of the page. Select a repository or grouping of repositories from the <strong>Preview
Repository</strong> dropdown and click the <strong>Preview</strong> button. Assets that match will be returned in the space below the
filter and can be filtered upon if we wish to check on a specific result.</p></blockquote><p>Once we are satisfied with our fields, click <strong>Save</strong> to create the content selector. All saved selector queries we
create will be listed in the <strong>Content Selectors</strong> screen.</p></section><section><h4 id="finer-access-control-with-content-selector-privilege">Finer Access Control with “Content Selector privilege”<a class="anchor" href="#finer-access-control-with-content-selector-privilege"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>As part of our security setup, we can create user permissions to manage the filters we built in the <em>Create Selector</em>
form. We can add a new privilege that controls operations of read, edit, delete or * (all) for components matching that
selector. The privilege can even span multiple repositories.</p><p>To create a new <strong>content selector privilege</strong>, click <strong>Privileges</strong> in the <strong>Security</strong> section of the
<strong>Administration</strong> panel. Then click the <strong>Create privilege</strong> button. Locate and click <strong>Repository Content Selector</strong>
from the list of options in <strong>Select Privilege Type</strong>. We will see a form that displays the following:</p><ul>
<li>Name: Create a name for the content selector privilege.</li>
<li>Description: Add a brief description for the privilege.</li>
<li>Content Selector: Use this dropdown to select from a list of selectors we created.</li>
<li>Repository: Use this dropdown to select from either a range of all repository contents, all repository contents of an
individual format, or repositories created by us.</li>
<li>Actions: Grant read, edit, delete, or * (all) privileges for user access control.</li>
</ul><p>To complete the form, save the new privilege by clicking <strong>Create privilege</strong>. We can use our new privilege to regulate
what permissible data we want the user to access. We could group all related privileges into a <a href="#roles">role</a>.
Ultimately, we could assign our roles to a <a href="#users">user</a>.</p></section><section><h4 id="content-selector-query-reference">Content Selector Query Reference<a class="anchor" href="#content-selector-query-reference"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>Below are the allowable attributes for content selectors that define path and format as values supported by Nexus
Repository Manager.</p>
















<table><thead><tr><th><strong>Attribute</strong></th><th><strong>Allowed Values</strong></th></tr></thead><tbody><tr><td>format</td><td>The format of the content for which we query</td></tr><tr><td>path</td><td>The path of our repository content</td></tr></tbody></table><p>Valid Operators are</p>







































<table><thead><tr><th align="center">Operator</th><th align="center">Definition</th><th align="center">Example</th></tr></thead><tbody><tr><td align="center"><code>==</code></td><td align="center">Matches text <em>exactly</em></td><td align="center"><code>format == "maven2"</code></td></tr><tr><td align="center"><code>=~</code></td><td align="center">Matches a Java regular expression pattern</td><td align="center"><code>path =~ "^/org/apache/commons/.*"</code></td></tr><tr><td align="center"><code>=^</code></td><td align="center">Starts with text.</td><td align="center"><code>path =^ "/com/example/"</code></td></tr><tr><td align="center"><code>and</code></td><td align="center">Match all expressions</td><td align="center"><code>format == "maven2" and path =~ "^/org/apache/commons/.*"</code></td></tr><tr><td align="center"><code>or</code></td><td align="center">Match any expression</td><td align="center"><code>format == "maven2" or format == "npm"</code></td></tr><tr><td align="center"><code>( expr )</code></td><td align="center">Group multiple expressions.</td><td align="center"><sup><a href="#user-content-fn-example" id="user-content-fnref-example" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup></td></tr></tbody></table><p>:::info Version Range Regular Expressions</p><p>To avoid encountering database errors, we should escape dashes in version range regular expressions. For example,
<code>path =~ "[0-9a-zA-Z\-_]"</code></p><p>:::</p><blockquote class="admonition bdm-caution"><span class="bdm-title">CAUTION</span><p>When writing a content selector, remember that the asset’s path will always begin with a leading slash when the
selector is evaluated. This is true even though the leading slash is not displayed when searching or browsing assets.</p></blockquote></section></section><section><h3 id="roles">Roles<a class="anchor" href="#roles"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>Roles aggregate <a href="#privileges">privileges</a> into a related context and can, in turn, be grouped to create more complex
roles.</p><p>The repository manager ships with a predefined <em>admin</em> as well as an <em>anonymous role</em>. These can be inspected in the
<strong>Roles</strong> feature view accessible via the <strong>Roles</strong> item in the <strong>Security</strong> section of the <strong>Administration</strong> main
menu. A simple example is shown in figure below. The list displays the <em>Name</em> and <em>Description</em> of the role as well as
the <strong>Source</strong>, which displays whether the role is internal (Nexus) or a mapping to an external source like LDAP. In
order to access these functions, a user must have <em>nx-roles</em> or <em>nx-all</em> <a href="#privileges">privileges</a>.</p><p><img alt="Error loading nexus3-roles-list.png" loading="lazy" decoding="async" fetchpriority="auto" width="610" height="174" src="/_astro/nexus3-roles-list.aYFxnf-I_Z28AcAL.webp" ></p><p>To create a new role, click on the <strong>Create Role</strong> button, select <strong>Nexus role</strong> and fill out the Role creation feature
view:</p><info><p>To use functions of creating, editing and deleting roles, a user without the <em>nx-all</em> privilege also will need
<em>nx-privilege-read</em>. This is because the roles page lists privileges on it.</p></info><p><img alt="Error loading nexus3-roles-create.png" loading="lazy" decoding="async" fetchpriority="auto" width="636" height="816" src="/_astro/nexus3-roles-create.CyHhijXg_ZRVURa.webp" ></p><p>When creating a new role, we will need to supply a <strong>Role ID</strong> and a <strong>Role Name</strong> and optionally a <strong>Description</strong>.
Roles are comprised of other roles and individual privileges. To assign a role or privilege to a role, drag and drop
the desired privileges from the <em>Available</em> list to the <em>Given</em> list under the <em>Privileges</em> header. We can use the
<strong>Filter</strong> input to narrow down the list of displayed privileges and the arrow buttons to add or remove privileges.</p><p>The same functionality is available under the <em>Roles</em> header to select among the <em>Available</em> roles and add them to the
list of <em>Contained</em> roles.</p><p>Finally press the <strong>Save</strong> button to get the role created.</p><p>An existing role can be inspected and edited by clicking on the row in the list. This role-specific view allows us to
delete the role with the <strong>Delete</strong> button. The built-in roles are managed by the repository manager and <em>cannot</em> be
edited or deleted.</p><section><h4 id="mapping-external-groups-to-nexus-roles">Mapping External Groups to Nexus Roles<a class="anchor" href="#mapping-external-groups-to-nexus-roles"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h4><p>In addition to creating an internal role, the <strong>Create Role</strong> button allows us to create an <strong>External Role Mapping</strong>
to an external authorization system configured in the repository manager such as LDAP. This is something we would do,
if we want to grant every member of an externally managed group (such as an LDAP group) a number of privileges and
roles in the repository manager</p><p>For example, assume that we have a group in LDAP named “scm” and we want to make sure that everyone in that group has
administrative privileges.</p><p>Select <strong>External Role Mapping</strong> and <strong>LDAP</strong> to see a list of roles managed by that external realm in a dialog. Pick
the desired scm group and confirm by pressing <strong>Create</strong> mapping.</p><blockquote class="admonition bdm-tip"><span class="bdm-title">TIP</span><p>For faster access or if we cannot see our group name, we can also type in a portion or the whole name of the group and
it will limit the dropdown to the selected text.</p></blockquote><p>Once the external role has been selected, creates a linked role. We can then assign other roles and privileges to this
new externally mapped role like we would do for any other role.</p><p>Any user that is part of the scm group in LDAP, receives all the privileges defined in the created role allowing us to
adapt our generic role in LDAP to the repository manager-specific use cases we want these users to be allowed to
perform.</p></section></section><section><h3 id="users">Users<a class="anchor" href="#users"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>The repository manager ships with two users by default: <em>admin</em> and <em>anonymous</em>. The <em>admin</em> user has all privileges
and the <em>anonymous</em> user has read-only privileges. The initial password for the admin user can be found in an
“admin.password” file found in the <code>$data-dir</code> directory after starting the server.</p><p>The Users feature view displayed in figure below can be accessed via the <strong>Users</strong> item in the <strong>Security</strong> section of
the <strong>Administration</strong> menu. Users must have <em>nx-users</em> or <em>nx-all</em> <a href="#privileges">privileges</a> to see this page. On page
load, the security Source of “Local” is selected and represents the local NXRM realm. The filtered list shows the
users’ User ID, First Name, Last Name, Email and Status from the security Source selected in the dropdown.</p><p><img alt="Error loading nexus3-users-list.png" loading="lazy" decoding="async" fetchpriority="auto" width="698" height="174" src="/_astro/nexus3-users-list.ycV-Tg2f_ZXQwKl.webp" ></p><p>Clicking on a user in the list or clicking on the <strong>Create local user</strong> button displays the details view to edit or
create the account shown in figure below. For external users, such as LDAP or Crowd, once we have our external realm
setup we can edit their permissions here as well. Simply select the realm the user is on from the <strong>Source</strong> dropdown.
Then type the user ID into the field to the right of that dropdown and search for it. Then click on the result desired
to edit, same as a local user.</p><info><p>To use functions of creating, editing and deleting users, a user without the <em>nx-all</em> privilege also will need
<em>nx-roles-read</em>. This is because the users page lists roles on it.</p></info><p><img alt="Error loading nexus3-users-create.png" loading="lazy" decoding="async" fetchpriority="auto" width="640" height="777" src="/_astro/nexus3-users-create.DYTGhU05_11y0OE.webp" ></p><p>The <strong>ID</strong> can be defined upon initial creation and remains fixed thereafter. In addition we can specify the users
<strong>First Name</strong>, <strong>Last Name</strong> and <strong>Email address</strong>.  We also must enter and confirm a <strong>Password</strong>.</p><p>The Status allows us to set an account to be <em>Disabled</em> or <em>Active</em>. The <a href="#roles"><em>Roles</em></a> control allows us to add and
remove defined roles to the user and therefore control the privileges assigned to the user. A user can be assigned one
or more roles that in turn can include references to other roles or to individual privileges.</p><p>On edit, we can select <strong>Change Password</strong> item in the drop down. The password can be changed in a dialog, provided the
user is managed by the built-in security realm.</p></section><section><h3 id="default-role">Default Role<a class="anchor" href="#default-role"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>The Default Role is a role that is automatically granted to all authenticated users.</p><p>To enable appending a default role to all authenticated users, navigate to the <strong>Capabilities</strong> item in the <strong>System</strong>
section of the <strong>Administration</strong> menu; then hit <strong>Create capability</strong> and choose capability type <strong>Default Role</strong> as
pictured below; we will then be able to select the role that we want applied to users.</p><p><img alt="Error loading nexus3-default-role.png" loading="lazy" decoding="async" fetchpriority="auto" width="835" height="236" src="/_astro/nexus3-default-role.70qwsovJ_QlMzS.webp" ></p><p>Once this is saved, the <em>Default Role Realm</em> will be added to the active list of security realms and start applying the
new role to all authenticated users.</p><blockquote class="admonition bdm-caution"><span class="bdm-title">CAUTION</span><p>This default role is appended to authenticated users dynamically, and will <strong>NOT</strong> show up as assigned to any user via
the User administration page.</p></blockquote></section></section>
<section><h2 id="troubleshooting">Troubleshooting<a class="anchor" href="#troubleshooting"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2><section><h3 id="413-request-entity-too-large">”413 Request Entity Too Large”<a class="anchor" href="#413-request-entity-too-large"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>If deploying, for example, a Maven JAR or Docker image to some Nexus repository results in “413 Request Entity Too
Large” error, that’s due to, in the case of Nginx as reverse proxy in front of the Nexus, our server block having a
default value for <strong>client_max_body_size</strong> of around 1MB in size when unset.</p><p>To resolve this, we will need to add the following line to our server block (<code>/etc/nginx/nginx.conf</code>):</p><p><img alt="Error loading nexus-413-solution.png" loading="lazy" decoding="async" fetchpriority="auto" width="707" height="403" src="/_astro/nexus-413-solution.LCdS35M3_Z1zjCP4.webp" ></p><p>For more information, such as where “client_max_body_size” directive should be placed, please refer to
<a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#client_max_body_size">Nginx documentation</a></p></section><section><h3 id="400-repository-does-not-allow-updating-assets">”400 Repository does not allow updating assets”<a class="anchor" href="#400-repository-does-not-allow-updating-assets"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>The version already exists on a release repository. We will need to either bump component version or let Nexus admin
to delete the root folder of that component.</p></section><section><h3 id="a-database-error-occurred">”A database error occurred”<a class="anchor" href="#a-database-error-occurred"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h3><p>When we perform some disk I/O related task on UI and we see the following on the top right corner of the page:</p><p><img alt="Error loading nexus3-strange-error.png" loading="lazy" decoding="async" fetchpriority="auto" width="561" height="136" src="/_astro/nexus3-strange-error.BVFk5nDm_vMhYJ.webp" ></p><p>The error itself does not indicate any information about the nature of the error. We will then need to know more
details about the error by going down to the Nexus server log.</p><blockquote class="admonition bdm-note"><span class="bdm-title">NOTE</span><p>In case Nexus is running as a Docker container, we need to jump into the container first by executing</p><div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash" class="wrap" style="--ecMaxLine:43ch"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#1A57D1;--0fs:italic;--1:#1A57D1;--1fs:italic">docker</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">exec</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">-it</span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">&#x3C;nexus-container-name></span><span style="--0:#4C4F69;--1:#4C4F69"> </span><span style="--0:#2C6E1E;--1:#2C6E1E">bash</span></div></div></code><button class="copy-btn" aria-label="Copy code"><div class="copy-btn-icon"><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon copy-icon"><path d="M368.37-237.37q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-474.26q0-34.48 24.26-58.74 24.26-24.26 58.74-24.26h378.26q34.48 0 58.74 24.26 24.26 24.26 24.26 58.74v474.26q0 34.48-24.26 58.74-24.26 24.26-58.74 24.26H368.37Zm0-83h378.26v-474.26H368.37v474.26Zm-155 238q-34.48 0-58.74-24.26-24.26-24.26-24.26-58.74v-515.76q0-17.45 11.96-29.48 11.97-12.02 29.33-12.02t29.54 12.02q12.17 12.03 12.17 29.48v515.76h419.76q17.45 0 29.48 11.96 12.02 11.97 12.02 29.33t-12.02 29.54q-12.03 12.17-29.48 12.17H213.37Zm155-238v-474.26 474.26Z"></path></svg><svg viewBox="0 -960 960 960" xmlns="http://www.w3.org/2000/svg" class="copy-btn-icon success-icon"><path d="m389-377.13 294.7-294.7q12.58-12.67 29.52-12.67 16.93 0 29.61 12.67 12.67 12.68 12.67 29.53 0 16.86-12.28 29.14L419.07-288.41q-12.59 12.67-29.52 12.67-16.94 0-29.62-12.67L217.41-430.93q-12.67-12.68-12.79-29.45-.12-16.77 12.55-29.45 12.68-12.67 29.62-12.67 16.93 0 29.28 12.67L389-377.13Z"></path></svg></div></button></pre></figure></div><p>where <code>nexus-container-name</code> can be seen using <code>docker ps -a</code></p></blockquote><p>The log file we will be looking at, in the case of running inside Docker container, is located at
<code>/nexus-data/log/nexus.log</code></p></section></section>
<section data-footnotes="" class="footnotes"><h2 class="sr-only" id="footnote-label">Footnotes<a class="anchor" href="#footnote-label"><span class="anchor-icon" data-pagefind-ignore="">#</span></a></h2>
<ol>
<li id="user-content-fn-example">
<p><code>format == "npm" or (format == "maven2" and path =~ "^/org/apache/commons/.*")</code> <a href="#user-content-fnref-example" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section>  </div> <script type="module">document.addEventListener("click",function(s){const t=s.target;if(t&&t.classList.contains("copy-btn")){const c=t.closest("pre")?.querySelector("code"),i=Array.from(c?.querySelectorAll(".code:not(summary *)")??[]).map(e=>e.textContent).map(e=>e===`
`?"":e).join(`
`);navigator.clipboard.writeText(i);const o=t.getAttribute("data-timeout-id");o&&clearTimeout(parseInt(o)),t.classList.add("success");const n=setTimeout(()=>{t.classList.remove("success")},1e3);t.setAttribute("data-timeout-id",n.toString())}});</script> <div class="relative transition overflow-hidden bg-[var(--license-block-bg)] py-5 px-6 mb-6 rounded-xl license-container onload-animation"> <div class="transition font-bold text-black/75 dark:text-white/75"> Continuous Delivery </div> <a href="https://leadership.qubitpi.org/posts/continuous-delivery/" class="link text-[var(--primary)]"> https://leadership.qubitpi.org/posts/continuous-delivery/ </a> <div class="flex gap-6 mt-2"> <div> <div class="transition text-black/30 dark:text-white/30 text-sm">Author</div> <div class="transition text-black/75 dark:text-white/75 line-clamp-2">Jiaqi Liu</div> </div> <div> <div class="transition text-black/30 dark:text-white/30 text-sm">Published at</div> <div class="transition text-black/75 dark:text-white/75 line-clamp-2">2022-08-31</div> </div> <div> <div class="transition text-black/30 dark:text-white/30 text-sm">License</div> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" class="link text-[var(--primary)] line-clamp-2">CC BY-NC-SA 4.0</a> </div> </div> <svg width="0.97em" height="1em" class="transition text-[15rem] absolute pointer-events-none right-6 top-1/2 -translate-y-1/2 text-black/5 dark:text-white/5" data-icon="fa6-brands:creative-commons">   <symbol id="ai:fa6-brands:creative-commons" viewBox="0 0 496 512"><path fill="currentColor" d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86m143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86M247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248m.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82"/></symbol><use href="#ai:fa6-brands:creative-commons"></use>  </svg> </div> </div> </div> <div class="flex flex-col md:flex-row justify-between mb-4 gap-4 overflow-hidden w-full"> <a href="/posts/berkeley/" class="w-full font-bold overflow-hidden active:scale-95"> <div class="btn-card rounded-2xl w-full h-[3.75rem] max-w-full px-4 flex items-center !justify-start gap-4"> <svg width="1em" height="1em" class="text-[2rem] text-[var(--primary)]" data-icon="material-symbols:chevron-left-rounded">   <symbol id="ai:material-symbols:chevron-left-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="m10.8 12l3.9 3.9q.275.275.275.7t-.275.7t-.7.275t-.7-.275l-4.6-4.6q-.15-.15-.212-.325T8.425 12t.063-.375t.212-.325l4.6-4.6q.275-.275.7-.275t.7.275t.275.7t-.275.7z"/></symbol><use href="#ai:material-symbols:chevron-left-rounded"></use>  </svg> <div class="overflow-hidden transition overflow-ellipsis whitespace-nowrap max-w-[calc(100%_-_3rem)] text-black/75 dark:text-white/75"> George Berkeley </div> </div> </a> <a href="/posts/幽默感/" class="w-full font-bold overflow-hidden active:scale-95"> <div class="btn-card rounded-2xl w-full h-[3.75rem] max-w-full px-4 flex items-center !justify-end gap-4"> <div class="overflow-hidden transition overflow-ellipsis whitespace-nowrap max-w-[calc(100%_-_3rem)] text-black/75 dark:text-white/75"> 幽默感 </div> <svg width="1em" height="1em" viewBox="0 0 24 24" class="text-[2rem] text-[var(--primary)]" data-icon="material-symbols:chevron-right-rounded">   <use href="#ai:material-symbols:chevron-right-rounded"></use>  </svg> </div> </a> </div>  <div class="footer col-span-2 onload-animation hidden lg:block"> <!--<div class="border-t border-[var(&#45;&#45;primary)] mx-16 border-dashed py-8 max-w-[var(&#45;&#45;page-width)] flex flex-col items-center justify-center px-6">--><div class="transition border-t border-black/10 dark:border-white/15 my-10 border-dashed mx-32"></div> <!--<div class="transition bg-[oklch(92%_0.01_var(&#45;&#45;hue))] dark:bg-black rounded-2xl py-8 mt-4 mb-8 flex flex-col items-center justify-center px-6">--> <div class="transition border-dashed border-[oklch(85%_0.01_var(--hue))] dark:border-white/15 rounded-2xl mb-12 flex flex-col items-center justify-center px-6"> <div class="transition text-50 text-sm text-center">
&copy; <span id="copyright-year">2025</span> Jiaqi Liu. All Rights Reserved. /
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="/rss.xml">RSS</a> /
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="/sitemap-index.xml">Sitemap</a><br>
Powered by
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://astro.build">Astro</a> &
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://github.com/saicaca/fuwari">Fuwari</a> </div> </div> </div> </div> </main> <div class="footer col-span-2 onload-animation block lg:hidden"> <!--<div class="border-t border-[var(&#45;&#45;primary)] mx-16 border-dashed py-8 max-w-[var(&#45;&#45;page-width)] flex flex-col items-center justify-center px-6">--><div class="transition border-t border-black/10 dark:border-white/15 my-10 border-dashed mx-32"></div> <!--<div class="transition bg-[oklch(92%_0.01_var(&#45;&#45;hue))] dark:bg-black rounded-2xl py-8 mt-4 mb-8 flex flex-col items-center justify-center px-6">--> <div class="transition border-dashed border-[oklch(85%_0.01_var(--hue))] dark:border-white/15 rounded-2xl mb-12 flex flex-col items-center justify-center px-6"> <div class="transition text-50 text-sm text-center">
&copy; <span id="copyright-year">2025</span> Jiaqi Liu. All Rights Reserved. /
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="/rss.xml">RSS</a> /
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="/sitemap-index.xml">Sitemap</a><br>
Powered by
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://astro.build">Astro</a> &
<a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://github.com/saicaca/fuwari">Fuwari</a> </div> </div> </div> </div> <!-- There can't be a filter on parent element, or it will break `fixed` --><div class="back-to-top-wrapper hidden lg:block" data-astro-cid-eymb5ayk> <div id="back-to-top-btn" class="back-to-top-btn hide flex items-center rounded-2xl overflow-hidden transition" onclick="backToTop()" data-astro-cid-eymb5ayk> <button aria-label="Back to Top" class="btn-card h-[3.75rem] w-[3.75rem]" data-astro-cid-eymb5ayk> <svg width="1em" height="1em" class="mx-auto" data-astro-cid-eymb5ayk="true" data-icon="material-symbols:keyboard-arrow-up-rounded">   <symbol id="ai:material-symbols:keyboard-arrow-up-rounded" viewBox="0 0 24 24"><path fill="currentColor" d="m12 10.8l-3.9 3.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.6-4.6q.3-.3.7-.3t.7.3l4.6 4.6q.275.275.275.7t-.275.7t-.7.275t-.7-.275z"/></symbol><use href="#ai:material-symbols:keyboard-arrow-up-rounded"></use>  </svg> </button> </div> </div>  <script>
function backToTop() {
    window.scroll({ top: 0, behavior: 'smooth' });
}
</script> </div> </div>  <div class="absolute w-full z-0 hidden 2xl:block"> <div class="relative max-w-[var(--page-width)] mx-auto"> <!-- TOC component --> <div id="toc-wrapper" class="hidden lg:block transition absolute top-0 -right-[var(--toc-width)] w-[var(--toc-width)] items-center toc-hide"> <div id="toc-inner-wrapper" class="fixed top-14 w-[var(--toc-width)] h-[calc(100vh_-_20rem)] overflow-y-scroll overflow-x-hidden hide-scrollbar"> <div id="toc" class="w-full h-full transition-swup-fade "> <div class="h-8 w-full"></div> <table-of-contents class="group"><a href="#what-is-continuous-delivery" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">1</div><div class="transition text-sm text-50">What is Continuous Delivery</div></a><a href="#why-continuous-delivery" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Why Continuous Delivery</div></a><a href="#principles" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">2</div><div class="transition text-sm text-50">Principles</div></a><a href="#build-quality-in" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Build Quality In</div></a><a href="#work-in-small-batches" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Work in Small Batches</div></a><a href="#relentlessly-pursue-continuous-improvement" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Relentlessly Pursue Continuous Improvement</div></a><a href="#everyone-is-responsible" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Everyone is Responsible</div></a><a href="#foundations---prerequisites-for-continuous-delivery" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">3</div><div class="transition text-sm text-50">Foundations - Prerequisites for Continuous Delivery</div></a><a href="#configuration-management" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Configuration Management</div></a><a href="#configuration-management-learning-resources" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Configuration Management Learning Resources</div></a><a href="#continuous-integration" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Continuous Integration</div></a><a href="#continuous-integration-learning-resources" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Continuous Integration Learning Resources</div></a><a href="#continuous-testing" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Continuous Testing</div></a><a href="#different-types-of-software-testing" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Different Types of Software Testing</div></a><a href="#implementing-continuous-delivery" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">4</div><div class="transition text-sm text-50">Implementing Continuous Delivery</div></a><a href="#evolutionary-architecture" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Evolutionary Architecture</div></a><a href="#patterns" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Patterns</div></a><a href="#the-deployment-pipeline" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">The Deployment Pipeline</div></a><a href="#patterns-for-low-risk-releases" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Patterns for Low-Risk Releases</div></a><a href="#deploying-vs-releasing" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">5</div><div class="transition text-sm text-50">Deploying v.s. Releasing</div></a><a href="#what-is-software-release" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">What is Software Release</div></a><a href="#what-is-deployment" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">What is Deployment</div></a><a href="#trunk-based-development" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Trunk-Based Development</div></a><a href="#github-action" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">6</div><div class="transition text-sm text-50">GitHub Action</div></a><a href="#why-should-we-pin-our-github-actions-by-commit-hash" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Why Should We Pin Our GitHub Actions by commit-hash</div></a><a href="#looking-at-a-scenario-where-a-malicious-actor-gets-control" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Looking at a Scenario Where a Malicious Actor Gets Control</div></a><a href="#solution" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Solution</div></a><a href="#using-a-github-action-matrix-to-define-variations-for-each-job" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Using a GitHub Action Matrix to Define Variations for Each Job</div></a><a href="#using-a-matrix-strategy" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Using a Matrix Strategy</div></a><a href="#example-using-a-single-dimension-matrix" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Example: Using a Single-Dimension Matrix</div></a><a href="#example-using-a-multi-dimension-matrix" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Example: Using a Multi-dimension Matrix</div></a><a href="#example-using-contexts-to-create-matrices" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Example: Using Contexts to Create Matrices</div></a><a href="#expanding-or-adding-matrix-configurations" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Expanding or adding matrix configurations</div></a><a href="#excluding-matrix-configurations" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Excluding Matrix Configurations</div></a><a href="#handling-failures" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Handling Failures</div></a><a href="#configuring-the-maximum-number-of-concurrent-jobs" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Configuring the Maximum Number of Concurrent Jobs</div></a><a href="#build-and-push-docker-images-through-github-action" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Build and Push Docker Images through GitHub Action</div></a><a href="#generate-docker-hub-access-token" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Generate Docker Hub Access Token</div></a><a href="#define-ci-workflow-on-github" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Define CI Workflow on GitHub</div></a><a href="#build-status-badge" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Build Status Badge</div></a><a href="#software-artifactory-with-nexus-3-repository-manager-oss" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">7</div><div class="transition text-sm text-50">Software Artifactory with Nexus 3 Repository Manager OSS</div></a><a href="#system-requirements" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">8</div><div class="transition text-sm text-50">System Requirements</div></a><a href="#memory-requirements" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Memory Requirements</div></a><a href="#disk-space" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Disk Space</div></a><a href="#concepts" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">9</div><div class="transition text-sm text-50">Concepts</div></a><a href="#components" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Components</div></a><a href="#repository" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Repository</div></a><a href="#repository-format" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Repository Format</div></a><a href="#repository-management" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">10</div><div class="transition text-sm text-50">Repository Management</div></a><a href="#repository-types" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Repository Types</div></a><a href="#proxy-repository" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Proxy Repository</div></a><a href="#hosted-repository" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Hosted Repository</div></a><a href="#repository-group" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Repository Group</div></a><a href="#managing-repositories-and-repository-groups" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Managing Repositories and Repository Groups</div></a><a href="#setting-up-maven-repositories" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Setting Up Maven Repositories</div></a><a href="#maven-repository-format-overview" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Maven Repository Format Overview</div></a><a href="#the-central-repository" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">The Central Repository</div></a><a href="#component-coordinates-and-the-repository-format" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Component Coordinates and the Repository Format</div></a><a href="#release-and-snapshot-repositories" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Release and Snapshot Repositories</div></a><a href="#version-policy" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Version policy</div></a><a href="#hosting-maven-repositories" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Hosting Maven Repositories</div></a><a href="#deploying-to-hosted-maven-repository" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Deploying to Hosted Maven repository</div></a><a href="#using-repository-manager-with-apache-maven" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Using Repository Manager with Apache Maven</div></a><a href="#setting-up-docker-registry" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Setting Up Docker Registry</div></a><a href="#docker-port-scalability" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Docker Port Scalability</div></a><a href="#access-control" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Access Control</div></a><a href="#realms" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Realms</div></a><a href="#privileges" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Privileges</div></a><a href="#privilege-names" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Privilege Names</div></a><a href="#privilege-types" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Privilege Types</div></a><a href="#creating-a-privilege" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Creating a Privilege</div></a><a href="#content-selectors" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Content Selectors</div></a><a href="#creating-a-query" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Creating a Query</div></a><a href="#finer-access-control-with-content-selector-privilege" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Finer Access Control with “Content Selector privilege”</div></a><a href="#content-selector-query-reference" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Content Selector Query Reference</div></a><a href="#roles" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Roles</div></a><a href="#mapping-external-groups-to-nexus-roles" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-8"><div class="transition w-1.5 h-1.5 rounded-sm bg-black/5 dark:bg-white/10"></div></div><div class="transition text-sm text-30">Mapping External Groups to Nexus Roles</div></a><a href="#users" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Users</div></a><a href="#default-role" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">Default Role</div></a><a href="#troubleshooting" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">11</div><div class="transition text-sm text-50">Troubleshooting</div></a><a href="#413-request-entity-too-large" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">”413 Request Entity Too Large”</div></a><a href="#400-repository-does-not-allow-updating-assets" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">”400 Repository does not allow updating assets”</div></a><a href="#a-database-error-occurred" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold ml-4"><div class="transition w-2 h-2 rounded-[0.1875rem] bg-[var(--toc-badge-bg)]"></div></div><div class="transition text-sm text-50">”A database error occurred”</div></a><a href="#footnote-label" class="px-2 flex gap-2 relative transition w-full min-h-9 rounded-xl
        hover:bg-[var(--toc-btn-hover)] active:bg-[var(--toc-btn-active)] py-2
    "><div class="transition w-5 h-5 shrink-0 rounded-lg text-xs flex items-center justify-center font-bold bg-[var(--toc-badge-bg)] text-[var(--btn-content)]">12</div><div class="transition text-sm text-50">Footnotes</div></a><div id="active-indicator" class="-z-10 absolute bg-[var(--toc-btn-hover)] left-0 right-0 rounded-xl transition-all group-hover:bg-transparent border-2 border-[var(--toc-btn-hover)] group-hover:border-[var(--toc-btn-active)] border-dashed"></div></table-of-contents><script type="module">class l extends HTMLElement{tocEl=null;visibleClass="visible";observer;anchorNavTarget=null;headingIdxMap=new Map;headings=[];sections=[];tocEntries=[];active=[];activeIndicator=null;constructor(){super(),this.observer=new IntersectionObserver(this.markVisibleSection,{threshold:0})}markVisibleSection=t=>{t.forEach(e=>{const i=e.target.children[0]?.getAttribute("id"),s=i?this.headingIdxMap.get(i):void 0;s!=null&&(this.active[s]=e.isIntersecting),e.isIntersecting&&this.anchorNavTarget==e.target.firstChild&&(this.anchorNavTarget=null)}),this.active.includes(!0)||this.fallback(),this.update()};toggleActiveHeading=()=>{let t=this.active.length-1,e=this.active.length-1,i=0;for(;t>=0&&!this.active[t];)this.tocEntries[t].classList.remove(this.visibleClass),t--;for(;t>=0&&this.active[t];)this.tocEntries[t].classList.add(this.visibleClass),e=Math.min(e,t),i=Math.max(i,t),t--;for(;t>=0;)this.tocEntries[t].classList.remove(this.visibleClass),t--;let s=this.tocEl?.getBoundingClientRect().top||0,n=this.tocEl?.scrollTop||0,o=this.tocEntries[e].getBoundingClientRect().top-s+n,c=this.tocEntries[i].getBoundingClientRect().bottom-s+n;this.activeIndicator?.setAttribute("style",`top: ${o}px; height: ${c-o}px`)};scrollToActiveHeading=()=>{if(this.anchorNavTarget||!this.tocEl)return;const t=document.querySelectorAll(`#toc .${this.visibleClass}`);if(!t.length)return;const e=t[0],i=t[t.length-1],s=this.tocEl.clientHeight;let n;i.getBoundingClientRect().bottom-e.getBoundingClientRect().top<.9*s?n=e.offsetTop-32:n=i.offsetTop-s*.8,this.tocEl.scrollTo({top:n,left:0,behavior:"smooth"})};update=()=>{requestAnimationFrame(()=>{this.toggleActiveHeading(),this.scrollToActiveHeading()})};fallback=()=>{if(this.sections.length)for(let t=0;t<this.sections.length;t++){let e=this.sections[t].getBoundingClientRect().top,i=this.sections[t].getBoundingClientRect().bottom;if(this.isInRange(e,0,window.innerHeight)||this.isInRange(i,0,window.innerHeight)||e<0&&i>window.innerHeight)this.markActiveHeading(t);else if(e>window.innerHeight)break}};markActiveHeading=t=>{this.active[t]=!0};handleAnchorClick=t=>{const e=t.composedPath().find(i=>i instanceof HTMLAnchorElement);if(e){const i=decodeURIComponent(e.hash?.substring(1)),s=this.headingIdxMap.get(i);s!==void 0?this.anchorNavTarget=this.headings[s]:this.anchorNavTarget=null}};isInRange(t,e,i){return e<t&&t<i}connectedCallback(){const t=document.querySelector(".prose");t?t.addEventListener("animationend",()=>{this.init()},{once:!0}):console.debug("Animation element not found")}init(){if(this.tocEl=document.getElementById("toc-inner-wrapper"),!!this.tocEl&&(this.tocEl.addEventListener("click",this.handleAnchorClick,{capture:!0}),this.activeIndicator=document.getElementById("active-indicator"),this.tocEntries=Array.from(document.querySelectorAll("#toc a[href^='#']")),this.tocEntries.length!==0)){this.sections=new Array(this.tocEntries.length),this.headings=new Array(this.tocEntries.length);for(let t=0;t<this.tocEntries.length;t++){const e=decodeURIComponent(this.tocEntries[t].hash?.substring(1)),i=document.getElementById(e),s=i?.parentElement;i instanceof HTMLElement&&s instanceof HTMLElement&&(this.headings[t]=i,this.sections[t]=s,this.headingIdxMap.set(e,t))}this.active=new Array(this.tocEntries.length).fill(!1),this.sections.forEach(t=>this.observer.observe(t)),this.fallback(),this.update()}}disconnectedCallback(){this.sections.forEach(t=>this.observer.unobserve(t)),this.observer.disconnect(),this.tocEl?.removeEventListener("click",this.handleAnchorClick)}}customElements.get("table-of-contents")||customElements.define("table-of-contents",l);</script> <div class="h-8 w-full"></div> </div> </div> </div> <!-- #toc needs to exist for Swup to work normally -->  </div> </div>  <!-- increase the page height during page transition to prevent the scrolling animation from jumping --> <div id="page-height-extend" class="hidden h-[300vh]" data-astro-cid-sckkx6r4 style="--bannerOffset: 15vh;--banner-height-home: 65vh;--banner-height: 35vh;--configHue: 250;--page-width: 75rem;"></div>  <script type="module" src="/_astro/Layout.astro_astro_type_script_index_0_lang.DAHrxWCB.js"></script> <script type="module" src="/_astro/Layout.astro_astro_type_script_index_1_lang.Bgd6GLV9.js"></script></body></html> 